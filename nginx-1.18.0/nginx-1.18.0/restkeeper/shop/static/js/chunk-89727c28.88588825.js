(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-89727c28","chunk-30a87a84","chunk-2d2105d3","chunk-2d230fe7"],{"0047":function(e,t,a){"use strict";var l=a("48fb"),i=a.n(l);i.a},"0187":function(e,t,a){"use strict";var l=a("ac8a"),i=a.n(l);i.a},"0c0b":function(e,t,a){"use strict";var l=a("ed46"),i=a.n(l);i.a},"146e":function(e,t,a){"use strict";var l=a("6d2d"),i=a.n(l);i.a},1990:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$t("table.username")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.username,callback:function(t){e.$set(e.listQuery,"username",t)},expression:"listQuery.username"}}),e._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$t("table.mobil")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.mobil,callback:function(t){e.$set(e.listQuery,"mobil",t)},expression:"listQuery.mobil"}}),e._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"90px"},attrs:{placeholder:e.$t("table.enableFlag"),clearable:""},on:{change:e.handleFilter},model:{value:e.listQuery.enableFlag,callback:function(t){e.$set(e.listQuery,"enableFlag",t)},expression:"listQuery.enableFlag"}},e._l(e.calendarEnableFlagOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.handleCreate}},[e._v("\n      "+e._s(e.$t("table.add"))+"\n    ")]),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"success",icon:"el-icon-edit"},on:{click:e.handleUpdate}},[e._v("\n      "+e._s(e.$t("table.edit"))+"\n    ")]),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"warning",icon:"el-icon-close"},on:{click:e.handleDelete}},[e._v("\n      "+e._s(e.$t("table.delete"))+"\n    ")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.list,stripe:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"selection",align:"center",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.username"),prop:"username","min-width":"150px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.realName"),prop:"realName","min-width":"90px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.sex"),prop:"sex",width:"110px",formatter:e.formatSex}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.mobil"),prop:"mobil",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.email"),prop:"email",width:"180px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.sortNo"),prop:"sortNo",width:"95px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.enableFlag"),prop:"enableFlag",width:"100",formatter:e.formatEnableFlag}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:e.$t("table.actions"),width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[l.enableFlag==e.$global.enableFlagYes?a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-edit",plain:""},on:{click:function(t){return e.changeEnableFlag(l,e.$global.enableFlagNo)}}},[e._v("\n          禁用\n        ")]):e._e(),e._v(" "),l.enableFlag==e.$global.enableFlagNo?a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-edit",plain:""},on:{click:function(t){return e.changeEnableFlag(l,e.$global.enableFlagYes)}}},[e._v("\n          启用\n        ")]):e._e()]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.pageNum,limit:e.listQuery.pageSize},on:{"update:page":function(t){return e.$set(e.listQuery,"pageNum",t)},"update:limit":function(t){return e.$set(e.listQuery,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible,width:"60%",top:"10px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"30px"},attrs:{size:"small",rules:e.rules,model:e.temp,"label-position":"right","label-width":"80px"}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{prop:"id"}},[a("el-input",{model:{value:e.temp.id,callback:function(t){e.$set(e.temp,"id",t)},expression:"temp.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.username"),prop:"username"}},[a("el-input",{model:{value:e.temp.username,callback:function(t){e.$set(e.temp,"username",t)},expression:"temp.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.headPortrait"),prop:"headPortrait"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{name:"file",action:e.uploadAction(),headers:e.myHeaders,data:e.affixData(),"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.temp.affixVo.pathUrl?a("img",{staticClass:"avatar",attrs:{src:e.temp.affixVo.pathUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.realName"),prop:"realName"}},[a("el-input",{model:{value:e.temp.realName,callback:function(t){e.$set(e.temp,"realName",t)},expression:"temp.realName"}})],1),e._v(" "),"create"===e.dialogStatus?a("el-form-item",{attrs:{label:e.$t("table.plainPassword"),prop:"plainPassword"}},[a("el-input",{model:{value:e.temp.plainPassword,callback:function(t){e.$set(e.temp,"plainPassword",t)},expression:"temp.plainPassword"}})],1):e._e(),e._v(" "),"create"===e.dialogStatus?a("el-form-item",{attrs:{label:e.$t("table.password"),prop:"againPlainPassword"}},[a("el-input",{model:{value:e.temp.password,callback:function(t){e.$set(e.temp,"password",t)},expression:"temp.password"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.hasRoleIds"),prop:"hasRoleIds"}},[a("el-select",{staticClass:"filter-item",attrs:{clearable:"",multiple:"",placeholder:e.$t("table.PleaseSelect")},model:{value:e.temp.hasRoleIds,callback:function(t){e.$set(e.temp,"hasRoleIds",t)},expression:"temp.hasRoleIds"}},e._l(e.calendarCustomerRoleOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.id}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.sex"),prop:"sex"}},[a("el-select",{staticClass:"filter-item",attrs:{clearable:"",placeholder:e.$t("table.PleaseSelect")},model:{value:e.temp.sex,callback:function(t){e.$set(e.temp,"sex",t)},expression:"temp.sex"}},e._l(e.calendarSexOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.mobil"),prop:"mobil"}},[a("el-input",{model:{value:e.temp.mobil,callback:function(t){e.$set(e.temp,"mobil",t)},expression:"temp.mobil"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.email"),prop:"email"}},[a("el-input",{model:{value:e.temp.email,callback:function(t){e.$set(e.temp,"email",t)},expression:"temp.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.sortNo"),prop:"sortNo"}},[a("el-input",{model:{value:e.temp.sortNo,callback:function(t){e.$set(e.temp,"sortNo",t)},expression:"temp.sortNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.enableFlag"),prop:"enableFlag"}},[a("el-select",{staticClass:"filter-item",attrs:{clearable:"",placeholder:e.$t("table.PleaseSelect")},model:{value:e.temp.enableFlag,callback:function(t){e.$set(e.temp,"enableFlag",t)},expression:"temp.enableFlag"}},e._l(e.calendarEnableFlagOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("\n        "+e._s(e.$t("table.cancel"))+"\n      ")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("\n        "+e._s(e.$t("table.confirm"))+"\n      ")])],1)],1)],1)},i=[],n=(a("ac6a"),a("20d6"),a("2d63")),r=a("f6b0"),s=a("baf8");a("b775");var o=a("5f87"),c=a("6724"),d=a("333d"),u=a("61f7"),p=[],m=[],b=[],g={name:"ComplexTable",components:{Pagination:d["a"]},directives:{waves:c["a"]},data:function(){var e=this,t=function(e,t,a){Object(u["f"])(t)?a():a(new Error("请输入正确邮箱格式"))},a=function(e,t,a){Object(u["d"])(t)?a():a(new Error("请输入正确邮箱格式"))},l=function(t,a,l){""===a?l(new Error("请输入密码")):(""!==e.temp.plainPassword&&e.$refs.dataForm.validateField("password"),l())},i=function(t,a,l){""===a?l(new Error("请再次输入密码")):a!==e.temp.plainPassword?l(new Error("两次输入密码不一致!")):l()};return{myHeaders:{jwtToken:Object(o["a"])()},tableKey:0,list:[],total:0,listLoading:!0,listQuery:{pageNum:1,pageSize:10,username:"",mobil:"",enableFlag:""},calendarEnableFlagOptions:m,calendarSexOptions:b,calendarCustomerRoleOptions:p,showReviewer:!1,temp:{id:"",username:"",realName:"",sex:"",mobil:"",email:"",duties:"",hasRoleIds:[],checkedIds:[],sortNo:"",enableFlag:"",plainPassword:"",password:"",affixVo:{id:"",businessId:"",pathUrl:""}},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑用户",create:"添加用户"},rules:{username:[{required:!0,trigger:"blur",validator:t}],sex:[{required:!0,message:"必填",trigger:"change"}],realName:[{required:!0,message:"必填",trigger:"change"}],mobil:[{required:!0,message:"必填",trigger:"blur"}],email:[{required:!0,trigger:"blur",validator:a}],sortNo:[{required:!0,message:"必填",trigger:"blur"}],enableFlag:[{required:!0,message:"必填",trigger:"change"}],hasRoleIds:[{required:!0,trigger:"change",message:"请选择角色"}],plainPassword:[{required:!0,trigger:"blur",validator:l}],password:[{required:!0,trigger:"blur",validator:i}]},downloadLoading:!1}},created:function(){this.initEnableFlag(),this.initSexFlag(),this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(r["d"])(this.listQuery).then((function(t){e.list=t.datas.records,e.total=t.datas.total,console.log("查询用户信息返回:"+t.datas),setTimeout((function(){e.listLoading=!1}),1e3)}))},changeEnableFlag:function(e,t){var a=this;this.temp=e,this.temp.enableFlag=t,Object(r["a"])(this.temp).then((function(e){var t=e.datas;t?a.$message({message:"操作成功",type:"success"}):a.$message({message:e.msg,type:"warning"})}))},initCustomerRoleOptions:function(){var e=this;Object(s["a"])(this.$global.customerROle).then((function(t){e.calendarCustomerRoleOptions=t.datas}))},initEnableFlag:function(){var e=this;Object(s["a"])(this.$global.enableFlag).then((function(t){e.calendarEnableFlagOptions=t.datas}))},formatEnableFlag:function(e){var t,a=Object(n["a"])(this.calendarEnableFlagOptions);try{for(a.s();!(t=a.n()).done;){var l=t.value;if(e.enableFlag===l.dataValue)return l.discriptioin}}catch(i){a.e(i)}finally{a.f()}},initSexFlag:function(){var e=this;Object(s["a"])(this.$global.sex).then((function(t){e.calendarSexOptions=t.datas}))},formatSex:function(e){var t,a=Object(n["a"])(this.calendarSexOptions);try{for(a.s();!(t=a.n()).done;){var l=t.value;if(e.sex===l.dataValue)return l.discriptioin}}catch(i){a.e(i)}finally{a.f()}},handleFilter:function(){this.listQuery.pageNum=1,this.getList()},resetTemp:function(){this.temp={id:"",username:"",realName:"",sex:"",mobil:"",email:"",duties:"",hasRoleIds:[],checkedIds:[],sortNo:"",enableFlag:"",plainPassword:"",password:"",affixVo:{id:"",businessId:"",pathUrl:"undefined"}}},affixData:function(){return{businessType:this.$global.headPortrait}},uploadAction:function(){return this.$global.uploadAction},handleAvatarSuccess:function(e,t){this.temp.affixVo.pathUrl=e.datas.pathUrl,this.temp.affixVo.id=e.datas.id,console.log("返回图片路径："+this.temp.affixVo.pathUrl),console.log("返回图片Id："+this.temp.affixVo.id)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a=e.size/1024/1024<3;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 5MB!"),t&&a},handleCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate(),e.initCustomerRoleOptions(),e.temp.affixVo.pathUrl=null}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(r["b"])(e.temp).then((function(t){e.temp=t.datas,e.list.unshift(e.temp),e.dialogFormVisible=!1,e.$message({message:"保存成功",type:"success",duration:1500,offset:300})}))}))},handleUpdate:function(){var e=this;this.resetTemp();var t=this.$refs.multipleTable.selection;0!==t.length?t.length>1?this.$message({message:"只能选择一条记录",type:"warning",duration:1500,offset:300}):(this.temp=Object.assign({},t[0]),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate(),e.initRoleIdOptions()}))):this.$message({message:"请选择要编辑的记录",type:"warning",duration:1500,offset:300})},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(r["f"])(e.temp).then((function(){var t=e.list.findIndex((function(t){return t.id===e.temp.id}));e.list.splice(t,1,e.temp),e.dialogFormVisible=!1,e.$message({message:"修改成功",type:"success",duration:1500,offset:300})}))}))},handleDelete:function(){var e=this,t=this.$refs.multipleTable.selection;0!==t.length?t.length>0&&this.$confirm("此操作将永久删除所选记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a=[];t.forEach((function(e){a.push(e.id)})),e.temp.checkedIds=a,Object(r["c"])(e.temp).then((function(){e.$message({message:"删除成功",type:"success",duration:1500,offset:300}),e.getList()}))})).catch((function(){e.$message({type:"info",message:"已取消删除",duration:1500,offset:300})})):this.$message({message:"请选择您要删除的记录",type:"warning",duration:1500,offset:300})}}},f=g,h=(a("0047"),a("2877")),v=Object(h["a"])(f,l,i,!1,null,null,null);t["default"]=v.exports},"1ebc":function(e,t,a){"use strict";var l=a("830d"),i=a.n(l);i.a},2017:function(e,t,a){"use strict";var l=a("b12d"),i=a.n(l);i.a},"26fc":function(e,t,a){e.exports=a.p+"static/img/404_cloud.0f4bc32b.png"},2966:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$t("table.tableName")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.tableName,callback:function(t){e.$set(e.listQuery,"tableName",t)},expression:"listQuery.tableName"}}),e._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{placeholder:e.$t("table.tableSeatNumber")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.tableSeatNumber,callback:function(t){e.$set(e.listQuery,"tableSeatNumber",t)},expression:"listQuery.tableSeatNumber"}}),e._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"90px"},attrs:{placeholder:e.$t("table.tableStatus"),clearable:""},on:{change:e.handleFilter},model:{value:e.listQuery.tableStatus,callback:function(t){e.$set(e.listQuery,"tableStatus",t)},expression:"listQuery.tableStatus"}},e._l(e.calendarTableStatusOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1),e._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"90px"},attrs:{placeholder:e.$t("table.enableFlag"),clearable:""},on:{change:e.handleFilter},model:{value:e.listQuery.enableFlag,callback:function(t){e.$set(e.listQuery,"enableFlag",t)},expression:"listQuery.enableFlag"}},e._l(e.calendarEnableFlagOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.handleCreate}},[e._v("\n      "+e._s(e.$t("table.add"))+"\n    ")]),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"success",icon:"el-icon-edit"},on:{click:e.handleUpdate}},[e._v("\n      "+e._s(e.$t("table.edit"))+"\n    ")]),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"warning",icon:"el-icon-close"},on:{click:e.handleDelete}},[e._v("\n      "+e._s(e.$t("table.delete"))+"\n    ")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"multipleTable",attrs:{data:e.list,fit:""}},[e._v('\n    style="width: 100%;">\n    '),a("el-table-column",{attrs:{type:"selection",width:"50px",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.tableName"),prop:"tableName","min-width":"100px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.areaId"),prop:"areaId","min-width":"100px",formatter:e.formatArea}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.tableSeatNumber"),prop:"tableSeatNumber","min-width":"80px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.tableStatus"),prop:"tableStatus","min-width":"80px",formatter:e.formatTableStatus}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.sortNo"),prop:"sortNo",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.enableFlag"),prop:"enableFlag",width:"90px",formatter:e.formatEnableFlag}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:e.$t("table.actions"),width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[l.enableFlag==e.$global.enableFlagYes?a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-edit",plain:""},on:{click:function(t){return e.changeEnableFlag(l,e.$global.enableFlagNo)}}},[e._v("\n          禁用\n        ")]):e._e(),e._v(" "),l.enableFlag==e.$global.enableFlagNo?a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-edit",plain:""},on:{click:function(t){return e.changeEnableFlag(l,e.$global.enableFlagYes)}}},[e._v("\n          启用\n        ")]):e._e(),e._v(" "),l.tableStatus==e.$global.tableStatusLock?a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-edit",plain:""},on:{click:function(t){return e.changeTableStatus(l,e.$global.tableStatusFree)}}},[e._v("\n          空闲\n        ")]):e._e(),e._v(" "),l.tableStatus==e.$global.tableStatusFree?a("el-button",{attrs:{type:"warning",size:"mini",icon:"el-icon-edit",plain:""},on:{click:function(t){return e.changeTableStatus(l,e.$global.tableStatusLock)}}},[e._v("\n          锁桌\n        ")]):e._e()]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.pageNum,limit:e.listQuery.pageSize},on:{"update:page":function(t){return e.$set(e.listQuery,"pageNum",t)},"update:limit":function(t){return e.$set(e.listQuery,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible,width:"60%",top:"10px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"30px"},attrs:{size:"small",rules:e.rules,model:e.temp,"label-position":"right","label-width":"80px"}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{prop:"id"}},[a("el-input",{model:{value:e.temp.id,callback:function(t){e.$set(e.temp,"id",t)},expression:"temp.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.tableName"),prop:"tableName"}},[a("el-input",{model:{value:e.temp.tableName,callback:function(t){e.$set(e.temp,"tableName",t)},expression:"temp.tableName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.tableSeatNumber"),prop:"tableSeatNumber"}},[a("el-input",{model:{value:e.temp.tableSeatNumber,callback:function(t){e.$set(e.temp,"tableSeatNumber",t)},expression:"temp.tableSeatNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.areaId"),prop:"areaId"}},[a("el-select",{staticClass:"filter-item",attrs:{clearable:"",placeholder:e.$t("table.PleaseSelect")},model:{value:e.temp.areaId,callback:function(t){e.$set(e.temp,"areaId",t)},expression:"temp.areaId"}},e._l(e.calendarAreaOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.areaName,value:e.id}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.tableStatus"),prop:"tableStatus"}},[a("el-select",{staticClass:"filter-item",attrs:{clearable:"",placeholder:e.$t("table.PleaseSelect")},model:{value:e.temp.tableStatus,callback:function(t){e.$set(e.temp,"tableStatus",t)},expression:"temp.tableStatus"}},e._l(e.calendarTableStatusOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.enableFlag"),prop:"enableFlag"}},[a("el-select",{staticClass:"filter-item",attrs:{clearable:"",placeholder:e.$t("table.PleaseSelect")},model:{value:e.temp.enableFlag,callback:function(t){e.$set(e.temp,"enableFlag",t)},expression:"temp.enableFlag"}},e._l(e.calendarEnableFlagOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.sortNo"),prop:"sortNo"}},[a("el-input",{model:{value:e.temp.sortNo,callback:function(t){e.$set(e.temp,"sortNo",t)},expression:"temp.sortNo"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("\n        "+e._s(e.$t("table.cancel"))+"\n      ")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("\n        "+e._s(e.$t("table.confirm"))+"\n      ")])],1)],1)],1)},i=[],n=(a("ac6a"),a("20d6"),a("2d63")),r=a("ad8f"),s=a("baf8"),o=a("599c"),c=a("6724"),d=a("333d"),u=[],p=[],m=[],b={name:"ComplexTable",components:{Pagination:d["a"]},directives:{waves:c["a"]},data:function(){return{tableKey:0,list:null,total:0,listLoading:!0,listQuery:{pageNum:1,pageSize:10,tableName:"",tableSeatNumber:"",tableStatus:"",enableFlag:""},calendarEnableFlagOptions:u,calendarTableStatusOptions:p,calendarAreaOptions:m,showReviewer:!1,temp:{id:"",areaId:"",tableName:"",tableSeatNumber:"",tableStatus:"",sortNo:"",enableFlag:"",checkedIds:[]},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑桌台",create:"添加桌台"},rules:{tableName:[{required:!0,message:"必填",trigger:"blur"}],areaId:[{required:!0,message:"必填",trigger:"change"}],tableSeatNumber:[{required:!0,message:"必填",trigger:"blur"}],tableStatus:[{required:!0,message:"必填",trigger:"blur"}],sortNo:[{required:!0,message:"必填",trigger:"blur"}],enableFlag:[{required:!0,message:"必填",trigger:"change"}]},downloadLoading:!1}},created:function(){this.initEnableFlag(),this.initTableStatus(),this.initArea(),this.getList()},methods:{changeEnableFlag:function(e,t){var a=this;this.temp=e,this.temp.enableFlag=t,Object(r["a"])(this.temp).then((function(e){var t=e.datas;t?a.$message({message:"操作成功",type:"success"}):a.$message({message:e.msg,type:"warning"})}))},changeTableStatus:function(e,t){var a=this;this.temp=e,this.temp.tableStatus=t,Object(r["b"])(this.temp).then((function(e){var t=e.datas;t?a.$message({message:"操作成功",type:"success"}):a.$message({message:e.msg,type:"warning"})}))},getList:function(){var e=this;this.listLoading=!0,Object(r["e"])(this.listQuery).then((function(t){e.list=t.datas.records,e.total=t.datas.total,console.log("查询分类信息返回:"+t.datas),setTimeout((function(){e.listLoading=!1}),1e3)}))},initArea:function(){var e=this;Object(o["e"])().then((function(t){e.calendarAreaOptions=t.datas}))},formatArea:function(e){var t,a=Object(n["a"])(this.calendarAreaOptions);try{for(a.s();!(t=a.n()).done;){var l=t.value;if(e.areaId===l.id)return l.areaName}}catch(i){a.e(i)}finally{a.f()}},initTableStatus:function(){var e=this;Object(s["a"])(this.$global.tableStatus).then((function(t){e.calendarTableStatusOptions=t.datas}))},formatTableStatus:function(e){var t,a=Object(n["a"])(this.calendarTableStatusOptions);try{for(a.s();!(t=a.n()).done;){var l=t.value;if(e.tableStatus===l.dataValue)return l.discriptioin}}catch(i){a.e(i)}finally{a.f()}},initEnableFlag:function(){var e=this;Object(s["a"])(this.$global.enableFlag).then((function(t){e.calendarEnableFlagOptions=t.datas}))},formatEnableFlag:function(e){var t,a=Object(n["a"])(this.calendarEnableFlagOptions);try{for(a.s();!(t=a.n()).done;){var l=t.value;if(e.enableFlag===l.dataValue)return l.discriptioin}}catch(i){a.e(i)}finally{a.f()}},handleFilter:function(){this.getList()},resetTemp:function(){this.temp={id:"",areaId:"",tableName:"",tableSeatNumber:"",tableStatus:"",sortNo:"",enableFlag:"",checkedIds:[]}},handleCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(r["c"])(e.temp).then((function(t){e.temp=t.datas,e.list.unshift(e.temp),e.dialogFormVisible=!1,e.$message({message:"保存成功",type:"success",duration:1500,offset:300})}))}))},handleUpdate:function(){var e=this;this.resetTemp();var t=this.$refs.multipleTable.selection;0!==t.length?t.length>1?this.$message({message:"只能选择一条记录",type:"warning",duration:1500,offset:300}):(this.temp=Object.assign({},t[0]),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))):this.$message({message:"请选择要编辑的记录",type:"warning",duration:1500,offset:300})},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(r["g"])(e.temp).then((function(){var t=e.list.findIndex((function(t){return t.id===e.temp.id}));e.list.splice(t,1,e.temp),e.dialogFormVisible=!1,e.$message({message:"修改成功",type:"success",duration:1500,offset:300})}))}))},handleDelete:function(){var e=this,t=this.$refs.multipleTable.selection;0!==t.length?t.length>0&&this.$confirm("此操作将永久删除所选记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a=[];t.forEach((function(e){a.push(e.id)})),e.temp.checkedIds=a,Object(r["d"])(e.temp).then((function(){e.$message({message:"删除成功",type:"success",duration:1500,offset:300}),e.getList()}))})).catch((function(){e.$message({type:"info",message:"已取消删除",duration:1500,offset:300})})):this.$message({message:"请选择您要删除的记录",type:"warning",duration:1500,offset:300})}}},g=b,f=(a("1ebc"),a("2877")),h=Object(f["a"])(g,l,i,!1,null,null,null);t["default"]=h.exports},"2f3f":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticStyle:{width:"100%","padding-top":"15px"},attrs:{data:e.list}},[a("el-table-column",{attrs:{label:"Order_No","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n      "+e._s(e._f("orderNoFilter")(t.row.order_no))+"\n    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"Price",width:"195",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n      ¥"+e._s(e._f("toThousandFilter")(t.row.price))+"\n    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"Status",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[a("el-tag",{attrs:{type:e._f("statusFilter")(l.status)}},[e._v("\n        "+e._s(l.status)+"\n      ")])]}}])})],1)},i=[],n=a("b775");function r(e){return Object(n["a"])({url:"/vue-element-admin/transaction/list",method:"get",params:e})}var s={filters:{statusFilter:function(e){var t={success:"success",pending:"danger"};return t[e]},orderNoFilter:function(e){return e.substring(0,30)}},data:function(){return{list:null}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;r().then((function(t){e.list=t.data.items.slice(0,8)}))}}},o=s,c=a("2877"),d=Object(c["a"])(o,l,i,!1,null,null,null);t["default"]=d.exports},3175:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-container",[a("el-drawer",{ref:"drawer",attrs:{"with-header":!1,size:"26%",visible:e.drawer,direction:e.direction},on:{"update:visible":function(t){e.drawer=t}}},[a("el-card",{staticClass:"box-card-component"},[a("div",{staticClass:"demo-image__preview"},[a("el-form",{ref:"dataForm",staticStyle:{width:"300px"},attrs:{size:"small",model:e.orderDetails,rules:e.rules,"label-position":"right","label-width":"80px"}},[a("el-link",{staticStyle:{"margin-bottom":"20px"},attrs:{type:"danger",icon:"el-icon-edit"}},[e._v("订单处理")]),e._v(" "),a("el-form-item",{staticClass:"order-details",attrs:{label:e.$t("table.tableName"),prop:"tableName"}},[e._v("\n              "+e._s(e.orderDetails.tableName)+"\n            ")]),e._v(" "),a("el-form-item",{staticClass:"order-details",attrs:{label:e.$t("table.orderNo"),prop:"orderNo"}},[e._v("\n              "+e._s(e.orderDetails.orderNo)+"\n            ")]),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{prop:"orderNo"}},[a("el-input",{model:{value:e.orderDetails.orderNo,callback:function(t){e.$set(e.orderDetails,"orderNo",t)},expression:"orderDetails.orderNo"}})],1),e._v(" "),a("el-form-item",{staticClass:"order-details",attrs:{label:e.$t("table.personNumbers"),prop:"personNumbers"}},[e._v("\n              "+e._s(e.orderDetails.personNumbers)+"\n            ")]),e._v(" "),a("el-form-item",{staticClass:"order-details",attrs:{label:e.$t("table.payableAmountSum"),prop:"payableAmountSum"}},[e._v("\n              "+e._s(e.orderDetails.payableAmountSum)+"元\n            ")]),e._v(" "),e.orderDetails.tradingType==this.$global.tradingTypeTK?a("el-form-item",{staticClass:"order-details",attrs:{label:e.$t("table.realAmountSum"),prop:"realAmountSum"}},[e._v("\n              "+e._s(e.orderDetails.realAmountSum)+"元\n            ")]):e._e(),e._v(" "),e.orderDetails.tradingType==this.$global.tradingTypeTK?a("el-form-item",{staticClass:"order-details",attrs:{label:e.$t("table.refunded"),prop:"refunded"}},[e._v("\n              "+e._s(e.orderDetails.refund)+"元\n            ")]):e._e(),e._v(" "),e.orderDetails.tradingType==this.$global.tradingTypeTK?a("el-form-item",{staticClass:"order-details",attrs:{label:e.$t("table.refund"),prop:"operTionRefund"}},[a("el-input-number",{attrs:{step:.5,min:0,max:e.orderDetails.maxRefund},model:{value:e.orderDetails.operTionRefund,callback:function(t){e.$set(e.orderDetails,"operTionRefund",t)},expression:"orderDetails.operTionRefund"}}),e._v("   元\n            ")],1):e._e(),e._v(" "),e.orderDetails.tradingType==this.$global.tradingTypeFK?a("el-form-item",{staticClass:"order-details",attrs:{label:e.$t("table.reduce"),prop:"reduce"}},[a("el-input-number",{attrs:{step:1,min:0,max:e.reduceLimit,"step-strictly":""},model:{value:e.orderDetails.reduce,callback:function(t){e.$set(e.orderDetails,"reduce",t)},expression:"orderDetails.reduce"}}),e._v("   元\n            ")],1):e._e(),e._v(" "),e.orderDetails.tradingType==this.$global.tradingTypeFK?a("el-form-item",{staticClass:"order-details",attrs:{label:e.$t("table.discount"),prop:"discount"}},[a("el-input-number",{attrs:{precision:1,step:.5,min:e.discountLimit,max:10,"step-strictly":""},model:{value:e.orderDetails.discount,callback:function(t){e.$set(e.orderDetails,"discount",t)},expression:"orderDetails.discount"}}),e._v("    折\n            ")],1):e._e(),e._v(" "),e.orderDetails.tradingType==this.$global.tradingTypeFK?a("el-form-item",{staticClass:"order-details",attrs:{label:e.$t("table.tradingChannel"),prop:"tradingChannel"}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"220px"},attrs:{placeholder:e.$t("table.tradingChannel")},on:{change:e.handlerTradingChannel},model:{value:e.orderDetails.tradingChannel,callback:function(t){e.$set(e.orderDetails,"tradingChannel",t)},expression:"orderDetails.tradingChannel"}},e._l(e.calebdarTradingChannelForPay,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1)],1):e._e(),e._v(" "),e.orderDetails.tradingType==this.$global.tradingTypeMD||e.orderDetails.tradingType==this.$global.tradingTypeGZ?a("el-form-item",{staticClass:"order-details",attrs:{label:e.$t("table.buyerId"),prop:"buyerId"}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"220px"},attrs:{placeholder:e.$t("table.buyerId"),filterable:""},on:{change:e.handlerBuyerId},model:{value:e.orderDetails.buyerId,callback:function(t){e.$set(e.orderDetails,"buyerId",t)},expression:"orderDetails.buyerId"}},e._l(e.calebdarCustomer,(function(e){return a("el-option",{key:e.id,attrs:{label:e.mobil,value:e.id}})})),1)],1):e._e()],1)],1),e._v(" "),e.orderDetails.tradingType==this.$global.tradingTypeFK?a("div",{staticClass:"demo-drawer__footer",staticStyle:{"margin-top":"5px","margin-left":"10px"}},[a("el-button",{attrs:{size:"medium",type:"success"},on:{click:function(t){return e.handleTrading()}}},[e._v("结 算")])],1):e._e(),e._v(" "),e.orderDetails.tradingType==this.$global.tradingTypeTK?a("div",{staticClass:"demo-drawer__footer",staticStyle:{"margin-top":"5px","margin-left":"10px"}},[a("el-button",{attrs:{size:"medium",type:"danger"},on:{click:function(t){return e.handleTradingRefund()}}},[e._v("退 款")])],1):e._e(),e._v(" "),e.orderDetails.tradingType==this.$global.tradingTypeMD?a("div",{staticClass:"demo-drawer__footer",staticStyle:{"margin-top":"5px","margin-left":"10px"}},[a("el-button",{attrs:{size:"medium",type:"danger"},on:{click:function(t){return e.handleTradingmd()}}},[e._v("免 单")])],1):e._e(),e._v(" "),e.orderDetails.tradingType==this.$global.tradingTypeGZ?a("div",{staticClass:"demo-drawer__footer",staticStyle:{"margin-top":"5px","margin-left":"10px"}},[a("el-button",{attrs:{size:"medium",type:"danger"},on:{click:function(t){return e.handleTradinggz()}}},[e._v("挂 账")])],1):e._e()])],1),e._v(" "),a("el-main",[a("div",{staticClass:"filter-container"},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"190px"},attrs:{filterable:"",placeholder:e.$t("table.tradingChannel"),clearable:""},on:{change:e.handleFilter},model:{value:e.listQuery.tradingChannel,callback:function(t){e.$set(e.listQuery,"tradingChannel",t)},expression:"listQuery.tradingChannel"}},e._l(e.calebdarTradingChannel,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1),e._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"180px"},attrs:{placeholder:e.$t("table.orderNo")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.orderNo,callback:function(t){e.$set(e.listQuery,"orderNo",t)},expression:"listQuery.orderNo"}}),e._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"120px"},attrs:{placeholder:e.$t("table.orderState"),clearable:""},on:{change:e.handleFilter},model:{value:e.listQuery.orderState,callback:function(t){e.$set(e.listQuery,"orderState",t)},expression:"listQuery.orderState"}},e._l(e.calendarOrderStateOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1),e._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"120px"},attrs:{filterable:"",placeholder:e.$t("table.refund"),clearable:""},on:{change:e.handleFilter},model:{value:e.listQuery.isRefund,callback:function(t){e.$set(e.listQuery,"isRefund",t)},expression:"listQuery.isRefund"}},e._l(e.calebdarRefundTypy,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1),e._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"190px"},attrs:{filterable:"",placeholder:e.$t("table.tableId"),clearable:""},on:{change:e.handleFilter},model:{value:e.listQuery.tableId,callback:function(t){e.$set(e.listQuery,"tableId",t)},expression:"listQuery.tableId"}},e._l(e.calendarTableOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.tableName,value:e.id}})})),1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.list,stripe:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.orderItemVoStatisticsList,(function(l){return a("el-form",{staticClass:"demo-table-expand",attrs:{"label-width":"70px","label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:e.$t("table.dishName")}},[a("span",[e._v(e._s(l.dishName))])]),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.price")}},[a("span",[e._v(e._s(l.price))])]),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.reducePrice")}},[a("span",[e._v(e._s(l.reducePrice))])]),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.dishNum")}},[[t.row.orderState==e.$global.orderStateDFK?a("el-input-number",{attrs:{size:"mini",step:1,min:0,"step-strictly":""},on:{change:function(a,i){return e.opertionToShoppingCart(a,i,l.productOrderNo,l.dishId,t.row)}},model:{value:l.dishNum,callback:function(t){e.$set(l,"dishNum",t)},expression:"item .dishNum "}}):e._e(),e._v(" "),t.row.orderState!=e.$global.orderStateDFK?a("el-input-number",{attrs:{disabled:"",size:"mini",step:1,min:0,"step-strictly":""},on:{change:function(a,i){return e.opertionToShoppingCart(a,i,l.productOrderNo,l.dishId,t.row)}},model:{value:l.dishNum,callback:function(t){e.$set(l,"dishNum",t)},expression:"item .dishNum "}}):e._e()]],2)],1)}))}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.orderNo"),prop:"orderNo",width:"180px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.payableAmountSum"),prop:"payableAmountSum",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.realAmountSum"),prop:"realAmountSum",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.discount"),prop:"discount",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.reduce"),prop:"reduce",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.refund"),prop:"refund",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.orderState"),prop:"orderState",width:"80px",formatter:e.formatOrderState}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.tradingChannel"),prop:"tradingChannel",width:"80px",formatter:e.formatTradingChannel}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.cashierName"),prop:"cashierName","min-width":"125px"}}),e._v("t\n        "),a("el-table-column",{attrs:{"min-width":"230px",label:e.$t("table.tableId"),prop:"tableId"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[l.edit?[a("el-select",{staticClass:"filter-item",staticStyle:{width:"140px"},attrs:{size:"small",filterable:"",placeholder:e.$t("table.tableId")},on:{change:e.doChangeTable},model:{value:e.temp.tableId,callback:function(t){e.$set(e.temp,"tableId",t)},expression:"temp.tableId"}},e._l(e.calendarTableOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.tableName,value:e.id}})})),1),e._v(" "),a("el-button",{staticClass:"cancel-btn",attrs:{size:"mini",icon:"el-icon-refresh",type:"warning"},on:{click:function(t){return e.cancelEdit(l)}}},[e._v("\n                取消\n              ")])]:a("span",[e._v(e._s(l.tableName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:e.$t("table.actions"),width:"220px"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[l.edit&l.orderState==e.$global.orderStateDFK?a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-edit"},on:{click:function(t){return e.confirmEdit(l)}}},[e._v("\n              确定\n            ")]):e._e(),e._v(" "),!l.edit&l.orderState==e.$global.orderStateDFK?a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(t){return e.changeTanle(l)}}},[e._v("\n              转台\n            ")]):e._e(),e._v(" "),a("el-dropdown",[a("el-button",{attrs:{type:"warning",size:"mini"}},[e._v("订单操作"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[l.orderState==e.$global.orderStateFKZ?a("el-dropdown-item",{staticStyle:{height:"32px",padding:"2px 28px"},nativeOn:{click:function(t){return e.queryQrCode(l)}}},[e._v("二维码")]):e._e(),e._v(" "),l.orderState==e.$global.orderStateDFK||l.orderState==e.$global.orderStateQXDD||l.orderState==e.$global.orderStateGZ?a("el-dropdown-item",{staticStyle:{height:"32px",padding:"2px 28px"},nativeOn:{click:function(t){return e.handlerOrder(l,e.$global.tradingTypeFK)}}},[e._v("结  账\n                ")]):e._e(),e._v(" "),l.orderState==e.$global.orderStateYJS?a("el-dropdown-item",{staticStyle:{height:"32px",padding:"2px 28px"},nativeOn:{click:function(t){return e.handlerOrder(l,e.$global.tradingTypeTK)}}},[e._v("退  款\n                ")]):e._e(),e._v(" "),l.orderState==e.$global.orderStateDFK||l.orderState==e.$global.orderStateQXDD||l.orderState==e.$global.orderStateGZ?a("el-dropdown-item",{staticStyle:{height:"32px",padding:"2px 28px"},nativeOn:{click:function(t){return e.handlerOrder(l,e.$global.tradingTypeMD)}}},[e._v("免  单")]):e._e(),e._v(" "),l.orderState==e.$global.orderStateDFK||l.orderState==e.$global.orderStateQXDD?a("el-dropdown-item",{staticStyle:{height:"32px",padding:"2px 28px"},nativeOn:{click:function(t){return e.handlerOrder(l,e.$global.tradingTypeGZ)}}},[e._v("挂  账")]):e._e()],1)],1)]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.pageNum,limit:e.listQuery.pageSize},on:{"update:page":function(t){return e.$set(e.listQuery,"pageNum",t)},"update:limit":function(t){return e.$set(e.listQuery,"pageSize",t)},pagination:e.getList}})],1),e._v(" "),a("el-dialog",{attrs:{title:"支付二维码信息",visible:e.dialogFormVisible,width:"35%",align:"center"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-image",{attrs:{src:this.tradingVo.imgUrl}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("\n          "+e._s(e.$t("table.cancel"))+"\n        ")])],1)],1)],1)],1)},i=[],n=(a("20d6"),a("2d63")),r=a("b775");function s(e){return console.log("查询菜品列表参数："+e),Object(r["a"])({url:"shop/order/page/"+e.pageNum+"/"+e.pageSize,method:"post",data:e})}function o(e){return Object(r["a"])({url:"shop/applet/rotary-table/"+e.sourceTableId+"/"+e.targetTableId+"/"+e.orderNo,method:"post"})}function c(e,t,a){return Object(r["a"])({url:"shop/order/opertion-to-orderItem/"+e+"/"+t+"/"+a,method:"post"})}function d(e){return console.info("结算信息："+e),Object(r["a"])({url:"shop/order/handleTrading",method:"post",data:e})}function u(e){return console.info("查看二维码信息："+e),Object(r["a"])({url:"shop/order/queryQrCode",method:"post",data:e})}function p(e){return console.info("退款信息："+e),Object(r["a"])({url:"shop/order/handle-trading-refund",method:"post",data:e})}function m(e){return console.info("免单信息："+e),Object(r["a"])({url:"shop/order/handle-trading-md",method:"post",data:e})}function b(e){return console.info("挂账信息："+e),Object(r["a"])({url:"shop/order/handle-trading-gz",method:"post",data:e})}var g=a("c24f"),f=a("f6b0"),h=a("ad8f"),v=a("baf8"),y=(a("5f87"),a("6724")),$=a("333d"),_=[],x=[],F=[],w=[],k=[],S=[],C={name:"ComplexTable",components:{Pagination:$["a"]},directives:{waves:y["a"]},data:function(){return{dialogFormVisible:!1,drawer:!1,direction:"rtl",srcList:[],tableKey:0,list:null,total:0,listLoading:!0,listQuery:{pageNum:1,pageSize:10,orderState:"",tableId:"",orderNo:"",isRefund:"",tradingChannel:""},temp:{tableId:"",sourceTableId:"",targetTableId:"",orderNo:""},orderDetails:{opertions:"",tableName:"",orderNo:"",orderState:"",personNumbers:"",payableAmountSum:"",tradingChannel:"",tradingType:"",maxRefund:"",refunded:"",operTionRefund:"",discount:"",buyerId:""},tradingVo:{imgUrl:""},rules:{tradingChannel:[{required:!0,message:"请选择支付模式",trigger:"change"}],buyerId:[{required:!0,message:"请选择买单客户",trigger:"change"}]},calendarOrderStateOptions:_,calendarTableOptions:x,calebdarTradingChannel:F,calebdarTradingChannelForPay:w,calebdarRefundTypy:k,calebdarCustomer:S,showReviewer:!1,discountLimit:"",reduceLimit:""}},created:function(){this.initRefundTypy(),this.getInfo(),this.initTradingChannel(),this.initTradingChannelForPay(),this.initOrderState(),this.initTable(),this.initCustomer(),this.getList()},methods:{handlerOrder:function(e,t){this.orderDetails=e,this.orderDetails.tradingType=t,this.orderDetails.maxRefund=this.orderDetails.realAmountSum-this.orderDetails.refund,this.orderDetails.refunded=this.orderDetails.refund,this.drawer=!0},handlerTradingChannel:function(e){this.orderDetails.tradingChannel=e},handlerBuyerId:function(e){this.orderDetails.buyerId=e},handleTrading:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&d(e.orderDetails).then((function(t){t.datas.tradingState==e.$global.orderStateFKZ||t.datas.tradingState==e.$global.orderStateYJS?(e.$message({message:"操作成功",type:"warning",duration:1e3,offset:300}),t.datas.tradingChannel!=e.$global.tradingChannelCashpay&&(e.tradingVo.imgUrl=t.datas.qrCodeUrl,e.dialogFormVisible=!0),e.$refs["drawer"].closeDrawer(),e.getList()):e.$message({message:"操作失败",type:"warning",duration:1e3,offset:300})}))}))},queryQrCode:function(e){var t=this;this.orderDetails=e,u(this.orderDetails).then((function(e){null!==e.datas&&(t.tradingVo.imgUrl=e.datas,t.dialogFormVisible=!0)}))},handleTradingmd:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&(e.orderDetails.tradingChannel=e.$global.tradingChannelCreditPay,m(e.orderDetails).then((function(t){t.datas?(e.$message({message:"发起退款成功",type:"success",duration:1e3,offset:300}),e.$refs["drawer"].closeDrawer(),e.getList()):e.$message({message:"发起免单失败",type:"warning",duration:1e3,offset:300})})))}))},handleTradinggz:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&(e.orderDetails.tradingChannel=e.$global.tradingChannelCreditPay,b(e.orderDetails).then((function(t){t.datas?(e.$message({message:"发起退款成功",type:"success",duration:1e3,offset:300}),e.$refs["drawer"].closeDrawer(),e.getList()):e.$message({message:"发起免单失败",type:"warning",duration:1e3,offset:300})})))}))},handleTradingRefund:function(){var e=this;p(this.orderDetails).then((function(t){t.datas?(e.$message({message:"发起退款成功",type:"success",duration:1e3,offset:300}),e.$refs["drawer"].closeDrawer(),e.getList()):e.$message({message:"发起退款失败",type:"warning",duration:1e3,offset:300})}))},resetTemp:function(){this.temp={tableId:"",sourceTableId:"",targetTableId:"",orderNo:""}},changeTanle:function(e){e.edit=!e.edit,this.temp.tableId=e.tableId,this.temp.sourceTableId=e.tableId,this.temp.targetTableId=e.tableId,this.temp.orderNo=e.orderNo},doChangeTable:function(e){this.temp.targetTableId=e},cancelEdit:function(e){e.edit=!1,this.resetTemp()},confirmEdit:function(e){var t=this;this.temp.targetTableId!==this.temp.sourceTableId?o(this.temp).then((function(a){var l=a.datas;l?(e.edit=!1,e.tableId=t.temp.targetTableId,e.tableName=t.formatTable(e),t.resetTemp(),t.$message({message:"转台成功",type:"success"})):t.$message({message:a.msg,type:"warning"})})):this.$message({message:"相同桌台不能转台",type:"warning"})},initRefundTypy:function(){var e=this;Object(v["a"])(this.$global.refundTypy).then((function(t){e.calebdarRefundTypy=t.datas}))},formatRefundTypy:function(e){var t,a=Object(n["a"])(this.calebdarRefundTypy);try{for(a.s();!(t=a.n()).done;){var l=t.value;if(e.isRefund===l.dataValue)return l.discriptioin}}catch(i){a.e(i)}finally{a.f()}},initCustomer:function(){var e=this;Object(f["e"])().then((function(t){e.calebdarCustomer=t.datas}))},initTradingChannel:function(){var e=this;Object(v["a"])(this.$global.tradingChannel).then((function(t){e.calebdarTradingChannel=t.datas}))},initTradingChannelForPay:function(){var e=this;Object(v["a"])(this.$global.tradingChannel).then((function(t){e.calebdarTradingChannelForPay=t.datas,e.calebdarTradingChannelForPay.splice(e.calebdarTradingChannel.findIndex((function(t){return t.dataValue===e.$global.tradingChannelCreditcard})),1)}))},formatTradingChannel:function(e){var t,a=Object(n["a"])(this.calebdarTradingChannel);try{for(a.s();!(t=a.n()).done;){var l=t.value;if(e.tradingChannel===l.dataValue)return l.discriptioin}}catch(i){a.e(i)}finally{a.f()}},initOrderState:function(){var e=this;Object(v["a"])(this.$global.orderState).then((function(t){e.calendarOrderStateOptions=t.datas}))},formatOrderState:function(e){var t,a=Object(n["a"])(this.calendarOrderStateOptions);try{for(a.s();!(t=a.n()).done;){var l=t.value;if(e.orderState===l.dataValue)return e.orderState==this.$global.orderStateYJS?this.$createElement("font",{style:"color: green"},l.discriptioin):e.orderState==this.$global.orderStateGZ?this.$createElement("font",{style:"color: red"},l.discriptioin):e.orderState==this.$global.orderStateDFK?this.$createElement("font",{style:"color: #409EFF"},l.discriptioin):e.orderState==this.$global.orderStateFKZ?this.$createElement("font",{style:"color: #EFA509"},l.discriptioin):this.$createElement("font",{style:"color: #AF86E2"},l.discriptioin)}}catch(i){a.e(i)}finally{a.f()}},initTable:function(){var e=this;Object(h["f"])().then((function(t){e.calendarTableOptions=t.datas}))},formatTable:function(e){var t,a=Object(n["a"])(this.calendarTableOptions);try{for(a.s();!(t=a.n()).done;){var l=t.value;if(e.tableId===l.id)return l.tableName}}catch(i){a.e(i)}finally{a.f()}},opertionToShoppingCart:function(e,t,a,l,i){var n=this;console.info(e+"@@@@@"+t+"@@@@@"+a+"@@@@@"+l+"@@@@"+i);var r=null;e>t&&(r=this.$global.opertionTypeAdd,c(l,a,r).then((function(e){null!==e.datas&&(i.payableAmountSum=e.datas.payableAmountSum,n.$message({message:"增加菜品成功",type:"success"}))}))),e<t&&(r=this.$global.opertionTypeRemove,c(l,a,r).then((function(e){null!==e.datas&&(i.payableAmountSum=e.datas.payableAmountSum,n.$message({message:"减少菜品成功",type:"success"}))})))},getInfo:function(){var e=this;Object(g["f"])().then((function(t){null!==t.datas&&(e.discountLimit=t.datas.discountLimit,e.reduceLimit=t.datas.reduceLimit)}))},getList:function(){var e=this;this.listLoading=!0,s(this.listQuery).then((function(t){null!==t.datas.records?(e.list=t.datas.records.map((function(t){return e.$set(t,"edit",!1),t})),e.total=t.datas.total):(e.list=t.datas.records,e.total=t.datas.total),setTimeout((function(){e.listLoading=!1}),1e3)}))},handleFilter:function(){this.listQuery.pageNum=1,this.getList()}}},O=C,N=(a("0187"),a("2877")),T=Object(N["a"])(O,l,i,!1,null,null,null);t["default"]=T.exports},"31d3":function(e,t,a){"use strict";var l=a("a6dd"),i=a.n(l);i.a},3285:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-container",[a("el-drawer",{attrs:{"with-header":!1,size:"25%",visible:e.drawer,direction:e.direction},on:{"update:visible":function(t){e.drawer=t}}},[a("el-card",{staticClass:"box-card-component"},[a("div",{staticClass:"demo-image__preview"},[a("el-form",{staticStyle:{width:"300px"},attrs:{size:"small",model:e.temp,"label-position":"right","label-width":"80px"}},[a("el-form-item",{attrs:{label:e.$t("table.picture"),prop:"picture"}},[e.temp.affixVo.pathUrl?a("img",{staticClass:"avatar",attrs:{src:e.temp.affixVo.pathUrl}}):e._e()]),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.dishName"),prop:"dishName"}},[e._v("\n              "+e._s(e.temp.dishName)+"\n            ")]),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.dishNumber"),prop:"dishNumber"}},[e._v("\n              "+e._s(e.temp.dishNumber)+"\n            ")]),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.price"),prop:"price"}},[e._v("\n              "+e._s(e.temp.price)+"元\n            ")]),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.reducePrice"),prop:"reducePrice"}},[e._v("\n              "+e._s(e.temp.reducePrice)+"元\n            ")]),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.code"),prop:"code"}},[e._v("\n              "+e._s(e.temp.code)+"\n            ")]),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.description"),prop:"description"}},[e._v("\n             "+e._s(e.temp.description)+"\n            ")])],1)],1)])],1),e._v(" "),a("el-main",[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{placeholder:e.$t("table.code")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.code,callback:function(t){e.$set(e.listQuery,"code",t)},expression:"listQuery.code"}}),e._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$t("table.dishName")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.dishName,callback:function(t){e.$set(e.listQuery,"dishName",t)},expression:"listQuery.dishName"}}),e._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"90px"},attrs:{placeholder:e.$t("table.categoryId"),clearable:""},on:{change:e.handleFilter},model:{value:e.listQuery.categoryId,callback:function(t){e.$set(e.listQuery,"categoryId",t)},expression:"listQuery.categoryId"}},e._l(e.calendarCategoryOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.categoryName,value:e.id}})})),1),e._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"90px"},attrs:{placeholder:e.$t("table.enableFlag"),clearable:""},on:{change:e.handleFilter},model:{value:e.listQuery.enableFlag,callback:function(t){e.$set(e.listQuery,"enableFlag",t)},expression:"listQuery.enableFlag"}},e._l(e.calendarEnableFlagOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.handleCreate}},[e._v("\n          "+e._s(e.$t("table.add"))+"\n        ")]),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"success",icon:"el-icon-edit"},on:{click:e.handleUpdate}},[e._v("\n          "+e._s(e.$t("table.edit"))+"\n        ")]),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"warning",icon:"el-icon-close"},on:{click:e.handleDelete}},[e._v("\n          "+e._s(e.$t("table.delete"))+"\n        ")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.list,stripe:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"selection",width:"50px",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.dishName"),prop:"dishName","min-width":"120px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.dishNumber"),prop:"dishNumber","min-width":"80px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.categoryId"),prop:"categoryId",width:"120px",formatter:e.formatCategory}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.price"),prop:"price",width:"65px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.reducePrice"),prop:"reducePrice",width:"95px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.code"),prop:"code",width:"65px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.dishStatus"),prop:"dishStatus",width:"85px",formatter:e.formatDishStatus}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.sortNo"),prop:"sortNo",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.enableFlag"),prop:"enableFlag",width:"60px",formatter:e.formatEnableFlag}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:e.$t("table.actions"),width:"320"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[a("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-edit",plain:""},on:{click:function(t){return e.changImage(l)}}},[e._v("\n              详情\n            ")]),e._v(" "),l.enableFlag==e.$global.enableFlagYes?a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-edit",plain:""},on:{click:function(t){return e.changeEnableFlag(l,e.$global.enableFlagNo)}}},[e._v("\n              禁用\n            ")]):e._e(),e._v(" "),l.enableFlag==e.$global.enableFlagNo?a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-edit",plain:""},on:{click:function(t){return e.changeEnableFlag(l,e.$global.enableFlagYes)}}},[e._v("\n              启用\n            ")]):e._e(),e._v(" "),l.dishStatus==e.$global.dishStatusYes?a("el-button",{attrs:{type:"warning",size:"mini",icon:"el-icon-edit",plain:""},on:{click:function(t){return e.changeDishStatus(l,e.$global.dishStatusNo)}}},[e._v("\n              停售\n            ")]):e._e(),e._v(" "),l.dishStatus==e.$global.dishStatusNo?a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-edit",plain:""},on:{click:function(t){return e.changeDishStatus(l,e.$global.dishStatusYes)}}},[e._v("\n              起售\n            ")]):e._e()]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.pageNum,limit:e.listQuery.pageSize},on:{"update:page":function(t){return e.$set(e.listQuery,"pageNum",t)},"update:limit":function(t){return e.$set(e.listQuery,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible,width:"60%",top:"10px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"30px"},attrs:{size:"small",rules:e.rules,model:e.temp,"label-position":"right","label-width":"80px"}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{prop:"id"}},[a("el-input",{model:{value:e.temp.id,callback:function(t){e.$set(e.temp,"id",t)},expression:"temp.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.picture"),prop:"picture"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{name:"file",action:e.uploadAction(),headers:e.myHeaders,data:e.affixData(),"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.temp.affixVo.pathUrl?a("img",{staticClass:"avatar",attrs:{src:e.temp.affixVo.pathUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.dishName"),prop:"dishName"}},[a("el-input",{model:{value:e.temp.dishName,callback:function(t){e.$set(e.temp,"dishName",t)},expression:"temp.dishName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.categoryId"),prop:"enableFlag"}},[a("el-select",{staticClass:"filter-item",attrs:{clearable:"",placeholder:e.$t("table.PleaseSelect")},model:{value:e.temp.categoryId,callback:function(t){e.$set(e.temp,"categoryId",t)},expression:"temp.categoryId"}},e._l(e.calendarCategoryOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.categoryName,value:e.id}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.dishNumber"),prop:"dishNumber"}},[[a("el-input-number",{attrs:{step:1,"step-strictly":"",min:0},model:{value:e.temp.dishNumber,callback:function(t){e.$set(e.temp,"dishNumber",t)},expression:"temp.dishNumber"}})]],2),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.price"),prop:"price"}},[[a("el-input-number",{attrs:{precision:1,step:.1,min:0,max:5e3},model:{value:e.temp.price,callback:function(t){e.$set(e.temp,"price",t)},expression:"temp.price"}})]],2),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.reducePrice"),prop:"reducePrice"}},[[a("el-input-number",{attrs:{precision:1,step:.1,min:0,max:1e3},model:{value:e.temp.reducePrice,callback:function(t){e.$set(e.temp,"reducePrice",t)},expression:"temp.reducePrice"}})]],2),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.code"),prop:"code"}},[a("el-input",{model:{value:e.temp.code,callback:function(t){e.$set(e.temp,"code",t)},expression:"temp.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.hasDishFlavor"),prop:"hasDishFlavor"}},[a("el-select",{staticClass:"filter-item",attrs:{clearable:"",multiple:"",placeholder:e.$t("table.PleaseSelect")},model:{value:e.temp.hasDishFlavor,callback:function(t){e.$set(e.temp,"hasDishFlavor",t)},expression:"temp.hasDishFlavor"}},e._l(e.calendarDishFlavorOptions,(function(e){return a("el-option",{key:e.dataKey,attrs:{label:e.discriptioin,value:e.dataKey}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.dishStatus"),prop:"dishStatus"}},[a("el-select",{staticClass:"filter-item",attrs:{clearable:"",placeholder:e.$t("table.PleaseSelect")},model:{value:e.temp.dishStatus,callback:function(t){e.$set(e.temp,"dishStatus",t)},expression:"temp.dishStatus"}},e._l(e.calendarDishStatusOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.description"),prop:"description"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.temp.description,callback:function(t){e.$set(e.temp,"description",t)},expression:"temp.description"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.sortNo"),prop:"sortNo"}},[a("el-input",{model:{value:e.temp.sortNo,callback:function(t){e.$set(e.temp,"sortNo",t)},expression:"temp.sortNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.enableFlag"),prop:"enableFlag"}},[a("el-select",{staticClass:"filter-item",attrs:{clearable:"",placeholder:e.$t("table.PleaseSelect")},model:{value:e.temp.enableFlag,callback:function(t){e.$set(e.temp,"enableFlag",t)},expression:"temp.enableFlag"}},e._l(e.calendarEnableFlagOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("\n            "+e._s(e.$t("table.cancel"))+"\n          ")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("\n            "+e._s(e.$t("table.confirm"))+"\n          ")])],1)],1)],1)],1)],1)},i=[],n=(a("ac6a"),a("20d6"),a("2d63")),r=a("b775");function s(e){return console.log("查询菜品列表参数："+e),Object(r["a"])({url:"shop/dish/page/"+e.pageNum+"/"+e.pageSize,method:"post",data:e})}function o(e){return console.info("修改data"+e),Object(r["a"])({url:"shop/dish/update-dish-enableFlag",method:"post",data:e})}function c(e){return console.info("修改data"+e),Object(r["a"])({url:"shop/dish/update-dish-dishStatus",method:"post",data:e})}function d(e){return Object(r["a"])({url:"shop/dish",method:"post",data:e})}function u(e){return console.log("修改信息："+e),Object(r["a"])({url:"shop/dish",method:"patch",data:e})}function p(e){return console.log("删除信息："+e),Object(r["a"])({url:"shop/dish",method:"delete",data:e})}var m=a("baf8"),b=a("5f87"),g=a("c405"),f=a("6724"),h=a("333d"),v=[],y=[],$=[],_=[],x={name:"ComplexTable",components:{Pagination:h["a"]},directives:{waves:f["a"]},data:function(){return{myHeaders:{jwtToken:Object(b["a"])()},drawer:!1,direction:"rtl",srcList:[],tableKey:0,list:null,total:0,listLoading:!0,listQuery:{pageNum:1,pageSize:10,dishName:"",categoryId:"",dishStatus:"",code:"",enableFlag:"",affixVo:{id:"",businessId:"",pathUrl:""}},calendarEnableFlagOptions:v,calendarCategoryOptions:y,calendarDishStatusOptions:$,calendarDishFlavorOptions:_,showReviewer:!1,temp:{id:"",dishName:"",dishNumber:"",categoryId:"",price:"",reducePrice:"",code:"",description:"",dishStatus:"",checkedIds:[],sortNo:"",enableFlag:"",hasDishFlavor:"",affixVo:{id:"",businessId:"",pathUrl:""}},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑菜品",create:"添加菜品"},rules:{dishName:[{required:!0,message:"必填",trigger:"blur"}],dishNumber:[{required:!0,message:"必填",trigger:"blur"}],categoryId:[{required:!0,message:"必填",trigger:"change"}],price:[{required:!0,message:"必填",trigger:"blur"}],reducePrice:[{required:!0,message:"必填",trigger:"blur"}],code:[{required:!0,message:"必填",trigger:"blur"}],description:[{required:!0,message:"必填",trigger:"blur"}],dishStatus:[{required:!0,message:"必填",trigger:"blur"}],hasDishFlavor:[{required:!0,message:"必填",trigger:"change"}],sortNo:[{required:!0,message:"必填",trigger:"blur"}],enableFlag:[{required:!0,message:"必填",trigger:"change"}]},downloadLoading:!1}},created:function(){this.initDishFlavor(),this.initDishStatus(),this.initCategory(),this.initEnableFlag(),this.getList()},methods:{changeEnableFlag:function(e,t){var a=this;this.temp=e,this.temp.enableFlag=t,o(this.temp).then((function(e){var t=e.datas;t?a.$message({message:"操作成功",type:"success"}):a.$message({message:e.msg,type:"warning"})}))},changeDishStatus:function(e,t){var a=this;this.temp=e,this.temp.dishStatus=t,c(this.temp).then((function(e){var t=e.datas;t?a.$message({message:"操作成功",type:"success"}):a.$message({message:e.msg,type:"warning"})}))},initDishFlavor:function(){var e=this;Object(m["a"])(this.$global.dishFlavor).then((function(t){e.calendarDishFlavorOptions=t.datas}))},initCategory:function(){var e=this;Object(g["e"])().then((function(t){e.calendarCategoryOptions=t.datas}))},formatCategory:function(e){var t,a=Object(n["a"])(this.calendarCategoryOptions);try{for(a.s();!(t=a.n()).done;){var l=t.value;if(e.categoryId===l.id)return l.categoryName}}catch(i){a.e(i)}finally{a.f()}},initDishStatus:function(){var e=this;Object(m["a"])(this.$global.dishStatus).then((function(t){e.calendarDishStatusOptions=t.datas}))},formatDishStatus:function(e){var t,a=Object(n["a"])(this.calendarDishStatusOptions);try{for(a.s();!(t=a.n()).done;){var l=t.value;if(e.dishStatus===l.dataValue)return l.discriptioin}}catch(i){a.e(i)}finally{a.f()}},getList:function(){var e=this;this.listLoading=!0,s(this.listQuery).then((function(t){e.list=t.datas.records,e.total=t.datas.total,console.log("查询菜品信息返回:"+t.datas),setTimeout((function(){e.listLoading=!1}),1e3)}))},initEnableFlag:function(){var e=this;Object(m["a"])(this.$global.enableFlag).then((function(t){e.calendarEnableFlagOptions=t.datas}))},formatEnableFlag:function(e){var t,a=Object(n["a"])(this.calendarEnableFlagOptions);try{for(a.s();!(t=a.n()).done;){var l=t.value;if(e.enableFlag===l.dataValue)return l.discriptioin}}catch(i){a.e(i)}finally{a.f()}},handleFilter:function(){this.listQuery.pageNum=1,this.getList()},resetTemp:function(){this.temp={id:"",dishName:"",dishNumber:"",categoryId:"",price:"",reducePrice:"",code:"",description:"",dishStatus:"",checkedIds:[],sortNo:"",enableFlag:"",affixVo:{id:"",businessId:"",pathUrl:""}}},affixData:function(){return{businessType:this.$global.dish}},uploadAction:function(){return this.$global.uploadAction},handleAvatarSuccess:function(e,t){this.temp.affixVo.pathUrl=e.datas.pathUrl,this.temp.affixVo.id=e.datas.id,console.log("返回图片路径："+this.temp.affixVo.pathUrl),console.log("返回图片Id："+this.temp.affixVo.id)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a=e.size/1024/1024<3;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 5MB!"),t&&a},changImage:function(e){this.resetTemp(),this.temp=e,this.srcList=e.affixVo.pathUrl,this.drawer=!0},handleCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate(),e.temp.affixVo.pathUrl=null}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&d(e.temp).then((function(t){e.temp=t.datas,e.list.unshift(e.temp),e.dialogFormVisible=!1,e.$message({message:"保存成功",type:"success",duration:1500,offset:300})}))}))},handleUpdate:function(){var e=this;this.resetTemp();var t=this.$refs.multipleTable.selection;0!==t.length?t.length>1?this.$message({message:"只能选择一条记录",type:"warning",duration:1500,offset:300}):(this.temp=Object.assign({},t[0]),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))):this.$message({message:"请选择要编辑的记录",type:"warning",duration:1500,offset:300})},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&u(e.temp).then((function(){var t=e.list.findIndex((function(t){return t.id===e.temp.id}));e.list.splice(t,1,e.temp),e.dialogFormVisible=!1,e.$message({message:"修改成功",type:"success",duration:1500,offset:300})}))}))},handleDelete:function(){var e=this,t=this.$refs.multipleTable.selection;0!==t.length?t.length>0&&this.$confirm("此操作将永久删除所选记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a=[];t.forEach((function(e){a.push(e.id)})),e.temp.checkedIds=a,p(e.temp).then((function(){e.$message({message:"删除成功",type:"success",duration:1500,offset:300}),e.getList()}))})).catch((function(){e.$message({type:"info",message:"已取消删除",duration:1500,offset:300})})):this.$message({message:"请选择您要删除的记录",type:"warning",duration:1500,offset:300})}}},F=x,w=(a("31d3"),a("2877")),k=Object(w["a"])(F,l,i,!1,null,null,null);t["default"]=k.exports},"333d":function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[a("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},i=[];a("c5f6");Math.easeInOutQuad=function(e,t,a,l){return e/=l/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function r(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function s(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function o(e,t,a){var l=s(),i=e-l,o=20,c=0;t="undefined"===typeof t?500:t;var d=function e(){c+=o;var s=Math.easeInOutQuad(c,l,i,t);r(s),c<t?n(e):a&&"function"===typeof a&&a()};d()}var c={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&o(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&o(0,800)}}},d=c,u=(a("0c0b"),a("2877")),p=Object(u["a"])(d,l,i,!1,null,"532b8e8b",null);t["a"]=p.exports},"3afe":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$t("table.brandName")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.brandName,callback:function(t){e.$set(e.listQuery,"brandName",t)},expression:"listQuery.brandName"}}),e._v(" "),a("el-select",{staticClass:"filter-item",attrs:{filterable:"",clearable:"",placeholder:e.$t("table.category")},on:{change:e.handleFilter},model:{value:e.listQuery.category,callback:function(t){e.$set(e.listQuery,"category",t)},expression:"listQuery.category"}},e._l(e.calendarBrandCategoryOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1),e._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"90px"},attrs:{placeholder:e.$t("table.enableFlag"),clearable:""},on:{change:e.handleFilter},model:{value:e.listQuery.enableFlag,callback:function(t){e.$set(e.listQuery,"enableFlag",t)},expression:"listQuery.enableFlag"}},e._l(e.calendarEnableFlagOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.handleCreate}},[e._v("\n      "+e._s(e.$t("table.add"))+"\n    ")]),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"success",icon:"el-icon-edit"},on:{click:e.handleUpdate}},[e._v("\n      "+e._s(e.$t("table.edit"))+"\n    ")]),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"warning",icon:"el-icon-close"},on:{click:e.handleDelete}},[e._v("\n      "+e._s(e.$t("table.delete"))+"\n    ")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.list,stripe:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"selection",width:"50px",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.brandName"),prop:"brandName","min-width":"200px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.category"),prop:"category",width:"200px",formatter:e.formatBrandCategory}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.enableFlag"),prop:"enableFlag",width:"200px",formatter:e.formatEnableFlag}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:e.$t("table.actions"),width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[l.enableFlag==e.$global.enableFlagYes?a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-edit",plain:""},on:{click:function(t){return e.changeEnableFlag(l,e.$global.enableFlagNo)}}},[e._v("\n          禁用\n        ")]):e._e(),e._v(" "),l.enableFlag==e.$global.enableFlagNo?a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-edit",plain:""},on:{click:function(t){return e.changeEnableFlag(l,e.$global.enableFlagYes)}}},[e._v("\n          启用\n        ")]):e._e()]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.pageNum,limit:e.listQuery.pageSize},on:{"update:page":function(t){return e.$set(e.listQuery,"pageNum",t)},"update:limit":function(t){return e.$set(e.listQuery,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible,width:"60%",top:"10px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"30px"},attrs:{size:"small",rules:e.rules,model:e.temp,"label-position":"right","label-width":"80px"}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{prop:"id"}},[a("el-input",{model:{value:e.temp.id,callback:function(t){e.$set(e.temp,"id",t)},expression:"temp.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.picture"),prop:"picture"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{name:"file",action:e.uploadAction(),headers:e.myHeaders,data:e.affixData(),"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.temp.affixVo.pathUrl?a("img",{staticClass:"avatar",attrs:{src:e.temp.affixVo.pathUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.brandName"),prop:"brandName"}},[a("el-input",{model:{value:e.temp.brandName,callback:function(t){e.$set(e.temp,"brandName",t)},expression:"temp.brandName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.category"),prop:"category"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",clearable:"",placeholder:e.$t("table.PleaseSelect")},model:{value:e.temp.category,callback:function(t){e.$set(e.temp,"category",t)},expression:"temp.category"}},e._l(e.calendarBrandCategoryOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.enableFlag"),prop:"enableFlag"}},[a("el-select",{staticClass:"filter-item",attrs:{clearable:"",placeholder:e.$t("table.PleaseSelect")},model:{value:e.temp.enableFlag,callback:function(t){e.$set(e.temp,"enableFlag",t)},expression:"temp.enableFlag"}},e._l(e.calendarEnableFlagOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("\n        "+e._s(e.$t("table.cancel"))+"\n      ")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("\n        "+e._s(e.$t("table.confirm"))+"\n      ")])],1)],1)],1)},i=[],n=(a("ac6a"),a("20d6"),a("2d63")),r=a("9add"),s=a("baf8"),o=a("5f87"),c=a("6724"),d=a("333d"),u=(a("61f7"),[]),p=[],m={name:"ComplexTable",components:{Pagination:d["a"]},directives:{waves:c["a"]},data:function(){return{myHeaders:{jwtToken:Object(o["a"])()},tableKey:0,list:null,total:0,listLoading:!0,listQuery:{pageNum:1,pageSize:10,brandName:"",category:"",contactId:"",enableFlag:""},calendarEnableFlagOptions:u,calendarBrandCategoryOptions:p,showReviewer:!1,temp:{id:"",brandName:"",realName:"",checkedIds:[],enableFlag:"",affixVo:{id:"",businessId:"",pathUrl:""}},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑品牌",create:"添加品牌"},rules:{brandName:[{required:!0,message:"必填",trigger:"blur"}],category:[{required:!0,message:"必填",trigger:"blur"}],enableFlag:[{required:!0,message:"必填",trigger:"change"}]},downloadLoading:!1}},created:function(){this.initBrandCategory(),this.initEnableFlag(),this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(r["d"])(this.listQuery).then((function(t){e.list=t.datas.records,e.total=t.datas.total,console.log("查询品牌信息返回:"+t.datas),setTimeout((function(){e.listLoading=!1}),1e3)}))},initBrandCategory:function(){var e=this;Object(s["a"])(this.$global.brandCategory).then((function(t){e.calendarBrandCategoryOptions=t.datas}))},formatBrandCategory:function(e){var t,a=Object(n["a"])(this.calendarBrandCategoryOptions);try{for(a.s();!(t=a.n()).done;){var l=t.value;if(e.category===l.dataValue)return l.discriptioin}}catch(i){a.e(i)}finally{a.f()}},initEnableFlag:function(){var e=this;Object(s["a"])(this.$global.enableFlag).then((function(t){e.calendarEnableFlagOptions=t.datas}))},formatEnableFlag:function(e){var t,a=Object(n["a"])(this.calendarEnableFlagOptions);try{for(a.s();!(t=a.n()).done;){var l=t.value;if(e.enableFlag===l.dataValue)return l.discriptioin}}catch(i){a.e(i)}finally{a.f()}},handleFilter:function(){this.listQuery.pageNum=1,this.getList()},resetTemp:function(){this.temp={id:"",brandName:"",category:"",checkedIds:[],enableFlag:"",affixVo:{id:"",businessId:"",pathUrl:""}}},affixData:function(){return{businessType:this.$global.brand}},uploadAction:function(){return this.$global.uploadAction},handleAvatarSuccess:function(e,t){this.temp.affixVo.pathUrl=e.datas.pathUrl,this.temp.affixVo.id=e.datas.id,console.log("返回图片路径："+this.temp.affixVo.pathUrl),console.log("返回图片Id："+this.temp.affixVo.id)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a=e.size/1024/1024<3;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 5MB!"),t&&a},changeEnableFlag:function(e,t){var a=this;this.temp=e,this.temp.enableFlag=t,Object(r["a"])(this.temp).then((function(e){var t=e.datas;t?a.$message({message:"操作成功",type:"success"}):a.$message({message:e.msg,type:"warning"})}))},handleCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate(),e.initMerchantRoleOptions(),e.temp.affixVo.pathUrl=null}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(r["b"])(e.temp).then((function(t){e.temp=t.datas,e.list.unshift(e.temp),e.dialogFormVisible=!1,e.$message({message:"保存成功",type:"success",duration:1500,offset:300})}))}))},handleUpdate:function(){var e=this;this.resetTemp();var t=this.$refs.multipleTable.selection;0!==t.length?t.length>1?this.$message({message:"只能选择一条记录",type:"warning",duration:1500,offset:300}):(this.temp=Object.assign({},t[0]),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){e.initMerchantRoleOptions(),e.$refs["dataForm"].clearValidate()}))):this.$message({message:"请选择要编辑的记录",type:"warning",duration:1500,offset:300})},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(r["f"])(e.temp).then((function(){var t=e.list.findIndex((function(t){return t.id===e.temp.id}));e.list.splice(t,1,e.temp),e.dialogFormVisible=!1,e.$message({message:"修改成功",type:"success",duration:1500,offset:300})}))}))},handleDelete:function(){var e=this,t=this.$refs.multipleTable.selection;0!==t.length?t.length>0&&this.$confirm("此操作将永久删除所选记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a=[];t.forEach((function(e){a.push(e.id)})),e.temp.checkedIds=a,Object(r["c"])(e.temp).then((function(){e.$message({message:"删除成功",type:"success",duration:1500,offset:300}),e.getList()}))})).catch((function(){e.$message({type:"info",message:"已取消删除",duration:1500,offset:300})})):this.$message({message:"请选择您要删除的记录",type:"warning",duration:1500,offset:300})}}},b=m,g=(a("af89"),a("2877")),f=Object(g["a"])(b,l,i,!1,null,null,null);t["default"]=f.exports},"3fcb":function(e,t,a){"use strict";var l=a("d02d"),i=a.n(l);i.a},4211:function(e,t,a){},"48fb":function(e,t,a){},"4b3b":function(e,t,a){var l={"./404":"8cdb","./404.vue":"8cdb","./authority/customer":"1990","./authority/customer.vue":"1990","./authority/user":"e92e","./authority/user.vue":"e92e","./dashboard":"9406","./dashboard/":"9406","./dashboard/admin":"3f2c","./dashboard/admin/":"3f2c","./dashboard/admin/components/BarChart":"5f84","./dashboard/admin/components/BarChart.vue":"5f84","./dashboard/admin/components/BoxCard":"8269","./dashboard/admin/components/BoxCard.vue":"8269","./dashboard/admin/components/LineChart":"36ef","./dashboard/admin/components/LineChart.vue":"36ef","./dashboard/admin/components/PanelGroup":"6768","./dashboard/admin/components/PanelGroup.vue":"6768","./dashboard/admin/components/PieChart":"2044","./dashboard/admin/components/PieChart.vue":"2044","./dashboard/admin/components/RaddarChart":"7b75","./dashboard/admin/components/RaddarChart.vue":"7b75","./dashboard/admin/components/TodoList":"2544","./dashboard/admin/components/TodoList/":"2544","./dashboard/admin/components/TodoList/Todo":"ced4","./dashboard/admin/components/TodoList/Todo.vue":"ced4","./dashboard/admin/components/TodoList/index":"2544","./dashboard/admin/components/TodoList/index.scss":"5211","./dashboard/admin/components/TodoList/index.vue":"2544","./dashboard/admin/components/TransactionTable":"2f3f","./dashboard/admin/components/TransactionTable.vue":"2f3f","./dashboard/admin/components/mixins/resize":"a7dc","./dashboard/admin/components/mixins/resize.js":"a7dc","./dashboard/admin/index":"3f2c","./dashboard/admin/index.vue":"3f2c","./dashboard/editor":"5851","./dashboard/editor/":"5851","./dashboard/editor/index":"5851","./dashboard/editor/index.vue":"5851","./dashboard/index":"9406","./dashboard/index.vue":"9406","./dishManage/category":"91d8","./dishManage/category.vue":"91d8","./dishManage/dish":"3285","./dishManage/dish.vue":"3285","./login":"9ed6","./login/":"9ed6","./login/auth-redirect":"b829","./login/auth-redirect.vue":"b829","./login/components/SocialSignin":"c62e","./login/components/SocialSignin.vue":"c62e","./login/index":"9ed6","./login/index.vue":"9ed6","./order/orderSettlement":"3175","./order/orderSettlement.vue":"3175","./redirect":"ef3c","./redirect/":"ef3c","./redirect/index":"ef3c","./redirect/index.vue":"ef3c","./shop/brand":"3afe","./shop/brand.vue":"3afe","./shop/store":"908a","./shop/store.vue":"908a","./storeManage/area":"e7725","./storeManage/area.vue":"e7725","./storeManage/table":"2966","./storeManage/table.vue":"2966","./trading/paychannel":"803c","./trading/paychannel.vue":"803c"};function i(e){var t=n(e);return a(t)}function n(e){var t=l[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}i.keys=function(){return Object.keys(l)},i.resolve=n,e.exports=i,i.id="4b3b"},"4c1c":function(e,t,a){"use strict";var l=a("4211"),i=a.n(l);i.a},5211:function(e,t,a){},"53b1":function(e,t,a){},"599c":function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"f",(function(){return s})),a.d(t,"e",(function(){return o})),a.d(t,"c",(function(){return c}));var l=a("b775");function i(e){return console.log("查询区域列表参数："+e),Object(l["a"])({url:"shop/table-area/page/"+e.pageNum+"/"+e.pageSize,method:"post",data:e})}function n(e){return Object(l["a"])({url:"shop/table-area",method:"post",data:e})}function r(e){return console.info("修改data"+e),Object(l["a"])({url:"shop/table-area/update-tableArea-enableFlag",method:"post",data:e})}function s(e){return console.log("修改信息："+e),Object(l["a"])({url:"shop/table-area",method:"patch",data:e})}function o(e){return Object(l["a"])({url:"shop/table-area/list",method:"get"})}function c(e){return console.log("删除信息："+e),Object(l["a"])({url:"shop/table-area",method:"delete",data:e})}},6724:function(e,t,a){"use strict";a("8d41");var l="@@wavesContext";function i(e,t){function a(a){var l=Object.assign({},t.value),i=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},l),n=i.ele;if(n){n.style.position="relative",n.style.overflow="hidden";var r=n.getBoundingClientRect(),s=n.querySelector(".waves-ripple");switch(s?s.className="waves-ripple":(s=document.createElement("span"),s.className="waves-ripple",s.style.height=s.style.width=Math.max(r.width,r.height)+"px",n.appendChild(s)),i.type){case"center":s.style.top=r.height/2-s.offsetHeight/2+"px",s.style.left=r.width/2-s.offsetWidth/2+"px";break;default:s.style.top=(a.pageY-r.top-s.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",s.style.left=(a.pageX-r.left-s.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return s.style.backgroundColor=i.color,s.className="waves-ripple z-active",!1}}return e[l]?e[l].removeHandle=a:e[l]={removeHandle:a},a}var n={bind:function(e,t){e.addEventListener("click",i(e,t),!1)},update:function(e,t){e.removeEventListener("click",e[l].removeHandle,!1),e.addEventListener("click",i(e,t),!1)},unbind:function(e){e.removeEventListener("click",e[l].removeHandle,!1),e[l]=null,delete e[l]}},r=function(e){e.directive("waves",n)};window.Vue&&(window.waves=n,Vue.use(r)),n.install=r;t["a"]=n},"6d2d":function(e,t,a){},"709c":function(e,t,a){"use strict";var l=a("8f45"),i=a.n(l);i.a},7589:function(e,t,a){},"803c":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-container",[a("el-main",[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$t("table.channelName")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.channelName,callback:function(t){e.$set(e.listQuery,"channelName",t)},expression:"listQuery.channelName"}}),e._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$t("table.channelLabel")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.channelLabel,callback:function(t){e.$set(e.listQuery,"channelLabel",t)},expression:"listQuery.channelLabel"}}),e._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"90px"},attrs:{placeholder:e.$t("table.enableFlag"),clearable:""},on:{change:e.handleFilter},model:{value:e.listQuery.enableFlag,callback:function(t){e.$set(e.listQuery,"enableFlag",t)},expression:"listQuery.enableFlag"}},e._l(e.calendarEnableFlagOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.handleCreate}},[e._v("\n          "+e._s(e.$t("table.add"))+"\n        ")]),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"success",icon:"el-icon-edit"},on:{click:e.handleUpdate}},[e._v("\n          "+e._s(e.$t("table.edit"))+"\n        ")]),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"warning",icon:"el-icon-close"},on:{click:e.handleDelete}},[e._v("\n          "+e._s(e.$t("table.delete"))+"\n        ")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.list,stripe:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"selection",width:"50px",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.channelName"),prop:"channelName","min-width":"60px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.channelLabel"),prop:"channelLabel","min-width":"70px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.appId"),prop:"appId","min-width":"60px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.domain"),prop:"domain","min-width":"120px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.enableFlag"),prop:"enableFlag",width:"50px",formatter:e.formatEnableFlag}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:e.$t("table.actions"),width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[l.enableFlag==e.$global.enableFlagYes?a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-edit",plain:""},on:{click:function(t){return e.changeEnableFlag(l,e.$global.enableFlagNo)}}},[e._v("\n              禁用\n            ")]):e._e(),e._v(" "),l.enableFlag==e.$global.enableFlagNo?a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-edit",plain:""},on:{click:function(t){return e.changeEnableFlag(l,e.$global.enableFlagYes)}}},[e._v("\n              启用\n            ")]):e._e()]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.pageNum,limit:e.listQuery.pageSize},on:{"update:page":function(t){return e.$set(e.listQuery,"pageNum",t)},"update:limit":function(t){return e.$set(e.listQuery,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible,width:"60%",top:"10px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-container",[a("el-main",[a("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"30px"},attrs:{rules:e.rules,model:e.temp,"label-position":"right","label-width":"90px",size:"small"}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{prop:"id"}},[a("el-input",{model:{value:e.temp.id,callback:function(t){e.$set(e.temp,"id",t)},expression:"temp.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.channelName"),prop:"channelName"}},[a("el-input",{attrs:{placeholder:e.$t("table.channelName")},model:{value:e.temp.channelName,callback:function(t){e.$set(e.temp,"channelName",t)},expression:"temp.channelName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.channelLabel"),prop:"channelLabel"}},[a("el-select",{staticClass:"filter-item",attrs:{clearable:"",placeholder:e.$t("table.PleaseSelect")},model:{value:e.temp.channelLabel,callback:function(t){e.$set(e.temp,"channelLabel",t)},expression:"temp.channelLabel"}},e._l(e.calendarChannelLabelOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.appId"),prop:"appId"}},[a("el-input",{attrs:{placeholder:e.$t("table.appId")},model:{value:e.temp.appId,callback:function(t){e.$set(e.temp,"appId",t)},expression:"temp.appId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.domain"),prop:"domain"}},[a("el-input",{attrs:{placeholder:e.$t("table.domain")},model:{value:e.temp.domain,callback:function(t){e.$set(e.temp,"domain",t)},expression:"temp.domain"}})],1),e._v(" "),e._l(e.temp.otherConfigs,(function(t,l){return a("el-form-item",{key:t.key,attrs:{label:"扩展配置"+l,prop:"otherConfigs."+l+".value"}},[a("el-input",{staticStyle:{width:"80px"},attrs:{placeholder:"配置键"},model:{value:t.configKey,callback:function(a){e.$set(t,"configKey",a)},expression:"otherConfig.configKey"}}),e._v(" "),a("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"配置值"},model:{value:t.configValue,callback:function(a){e.$set(t,"configValue",a)},expression:"otherConfig.configValue"}},[a("template",{slot:"append"},[0!=l?a("i",{staticClass:"el-icon-remove",staticStyle:{"font-size":"20px",color:"red"},on:{click:function(a){return a.preventDefault(),e.removeDomain(t)}}}):e._e(),e._v(" "),a("i",{staticClass:"el-icon-circle-plus",staticStyle:{"font-size":"20px",color:"#4cd964"},on:{click:function(a){return a.preventDefault(),e.addDomain(t)}}})])],2)],1)})),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.enableFlag"),prop:"enableFlag"}},[a("el-select",{staticClass:"filter-item",attrs:{clearable:"",placeholder:e.$t("table.PleaseSelect")},model:{value:e.temp.enableFlag,callback:function(t){e.$set(e.temp,"enableFlag",t)},expression:"temp.enableFlag"}},e._l(e.calendarEnableFlagOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.publicKey"),prop:"publicKey"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",rows:3,placeholder:e.$t("table.publicKey")},model:{value:e.temp.publicKey,callback:function(t){e.$set(e.temp,"publicKey",t)},expression:"temp.publicKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.merchantPrivateKey"),prop:"merchantPrivateKey"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",rows:3,placeholder:e.$t("table.merchantPrivateKey")},model:{value:e.temp.merchantPrivateKey,callback:function(t){e.$set(e.temp,"merchantPrivateKey",t)},expression:"temp.merchantPrivateKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.encryptKey"),prop:"channelName"}},[a("el-input",{attrs:{placeholder:e.$t("table.encryptKey")},model:{value:e.temp.encryptKey,callback:function(t){e.$set(e.temp,"encryptKey",t)},expression:"temp.encryptKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.remark"),prop:"remark"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",rows:3,placeholder:e.$t("table.remark")},model:{value:e.temp.remark,callback:function(t){e.$set(e.temp,"remark",t)},expression:"temp.remark"}})],1)],2)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("\n            "+e._s(e.$t("table.cancel"))+"\n          ")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("\n            "+e._s(e.$t("table.confirm"))+"\n          ")])],1)],1)],1)],1)],1)},i=[],n=(a("ac6a"),a("20d6"),a("2d63")),r=a("b775");function s(e){return console.log("查询通道列表参数："+e),Object(r["a"])({url:"trading/payChannel/page/"+e.pageNum+"/"+e.pageSize,method:"post",data:e})}function o(e){return console.info("修改data"+e),Object(r["a"])({url:"trading/payChannel/update-payChannel-enableFlag",method:"post",data:e})}function c(e){return console.log("保存信息："+e),Object(r["a"])({url:"trading/payChannel",method:"post",data:e})}function d(e){return console.log("修改信息："+e),Object(r["a"])({url:"trading/payChannel",method:"patch",data:e})}function u(e){return console.log("删除信息："+e),Object(r["a"])({url:"trading/payChannel",method:"delete",data:e})}var p=a("6724"),m=a("333d"),b=a("baf8"),g=[],f=[],h={name:"ComplexTable",components:{Pagination:m["a"]},directives:{waves:p["a"]},data:function(){return{drawer:!1,direction:"rtl",tableKey:0,list:null,total:0,listLoading:!0,listQuery:{pageNum:1,pageSize:10,channelLabel:"",channelName:"",enableFlag:"",status:""},calendarEnableFlagOptions:g,calendarChannelLabelOptions:f,showReviewer:!1,temp:{id:"",appId:"",channelName:"",channelLabel:"",channelType:"",domain:"",publicKey:"",merchantPrivateKey:"",encryptKey:"",otherConfigs:[{configKey:"",configValue:""}],isActive:"",remark:"",enableFlag:"",checkedIds:[]},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑通道",create:"添加通道"},rules:{channelName:[{required:!0,message:"必填",trigger:"blur"}],channelLabel:[{required:!0,message:"必填",trigger:"change"}],channelType:[{required:!0,message:"必填",trigger:"change"}],domain:[{required:!0,message:"必填",trigger:"blur"}],publicKey:[{required:!0,message:"必填",trigger:"blur"}],merchantPrivateKey:[{required:!0,message:"必填",trigger:"blur"}],isActive:[{required:!0,message:"必填",trigger:"blur"}],remark:[{required:!0,message:"必填",trigger:"blur"}]},downloadLoading:!1}},created:function(){this.initEnableFlag(),this.initChannelLabel(),this.getList()},methods:{removeDomain:function(e){var t=this.temp.otherConfigs.indexOf(e);-1!==t&&this.temp.otherConfigs.splice(t,1)},addDomain:function(){this.temp.otherConfigs.push({configKey:"",configValue:"",key:Date.now()})},changeEnableFlag:function(e,t){var a=this;this.temp=e,this.temp.enableFlag=t,o(this.temp).then((function(e){var t=e.datas;t?a.$message({message:"操作成功",type:"success"}):a.$message({message:e.msg,type:"warning"})}))},initEnableFlag:function(){var e=this;Object(b["a"])(this.$global.enableFlag).then((function(t){e.calendarEnableFlagOptions=t.datas}))},formatEnableFlag:function(e){var t,a=Object(n["a"])(this.calendarEnableFlagOptions);try{for(a.s();!(t=a.n()).done;){var l=t.value;if(e.enableFlag===l.dataValue)return l.discriptioin}}catch(i){a.e(i)}finally{a.f()}},initChannelLabel:function(){var e=this;Object(b["a"])(this.$global.channelLabel).then((function(t){e.calendarChannelLabelOptions=t.datas}))},formatChannelLabel:function(e){var t,a=Object(n["a"])(this.calendarChannelLabelOptions);try{for(a.s();!(t=a.n()).done;){var l=t.value;if(e.channelLabel===l.dataValue)return l.discriptioin}}catch(i){a.e(i)}finally{a.f()}},getList:function(){var e=this;this.listLoading=!0,s(this.listQuery).then((function(t){e.list=t.datas.records,e.total=t.datas.total,console.log("查询通道信息返回:"+t.datas),setTimeout((function(){e.listLoading=!1}),1e3)}))},handleFilter:function(){this.listQuery.pageNum=1,this.getList()},resetTemp:function(){this.temp={id:"",appId:"",channelName:"",channelLabel:"",channelType:"",domain:"",publicKey:"",merchantPrivateKey:"",encryptKey:"",otherConfigs:[{configKey:"",configValue:""}],isActive:"",remark:"",enableFlag:"",checkedIds:[]}},handleCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&c(e.temp).then((function(t){e.temp=t.datas,e.list.unshift(e.temp),e.dialogFormVisible=!1,e.$message({message:"保存成功",type:"success",duration:1500,offset:300})}))}))},handleUpdate:function(){var e=this;this.resetTemp();var t=this.$refs.multipleTable.selection;if(0!==t.length)if(t.length>1)this.$message({message:"只能选择一条记录",type:"warning",duration:1500,offset:300});else{if(this.temp=Object.assign({},t[0]),null==this.temp.otherConfigs){var a={configKey:"",configValue:""};this.temp.otherConfigs=new Array(a)}this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))}else this.$message({message:"请选择要编辑的记录",type:"warning",duration:1500,offset:300})},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&d(e.temp).then((function(){var t=e.list.findIndex((function(t){return t.id===e.temp.id}));e.list.splice(t,1,e.temp),e.dialogFormVisible=!1,e.$message({message:"修改成功",type:"success",duration:1500,offset:300})}))}))},handleDelete:function(){var e=this,t=this.$refs.multipleTable.selection;0!==t.length?t.length>0&&this.$confirm("此操作将永久删除所选记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a=[];t.forEach((function(e){a.push(e.id)})),e.temp.checkedIds=a,u(e.temp).then((function(){e.$message({message:"删除成功",type:"success",duration:1500,offset:300}),e.getList()}))})).catch((function(){e.$message({type:"info",message:"已取消删除",duration:1500,offset:300})})):this.$message({message:"请选择您要删除的记录",type:"warning",duration:1500,offset:300})}}},v=h,y=(a("3fcb"),a("2877")),$=Object(y["a"])(v,l,i,!1,null,null,null);t["default"]=$.exports},"830d":function(e,t,a){},"8cdb":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wscn-http404-container"},[a("div",{staticClass:"wscn-http404"},[e._m(0),e._v(" "),a("div",{staticClass:"bullshit"},[a("div",{staticClass:"bullshit__oops"},[e._v("OOPS!")]),e._v(" "),e._m(1),e._v(" "),a("div",{staticClass:"bullshit__headline"},[e._v(e._s(e.message))]),e._v(" "),a("div",{staticClass:"bullshit__info"},[e._v("Please check that the URL you entered is correct, or click the button below to return to the homepage.")]),e._v(" "),a("a",{staticClass:"bullshit__return-home",attrs:{href:""}},[e._v("Back to home")])])])])},i=[function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"pic-404"},[l("img",{staticClass:"pic-404__parent",attrs:{src:a("a36b"),alt:"404"}}),e._v(" "),l("img",{staticClass:"pic-404__child left",attrs:{src:a("26fc"),alt:"404"}}),e._v(" "),l("img",{staticClass:"pic-404__child mid",attrs:{src:a("26fc"),alt:"404"}}),e._v(" "),l("img",{staticClass:"pic-404__child right",attrs:{src:a("26fc"),alt:"404"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bullshit__info"},[e._v("All rights reserved\n        "),a("a",{staticStyle:{color:"#20a0ff"},attrs:{href:"https://wallstreetcn.com",target:"_blank"}},[e._v("wallstreetcn")])])}],n={name:"Page404",computed:{message:function(){return"The webmaster said that you can not enter this page..."}}},r=n,s=(a("146e"),a("2877")),o=Object(s["a"])(r,l,i,!1,null,"794a952c",null);t["default"]=o.exports},"8d41":function(e,t,a){},"8ec6":function(e,t,a){"use strict";var l=a("7589"),i=a.n(l);i.a},"8f45":function(e,t,a){},"908a":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$t("table.storeName")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.storeName,callback:function(t){e.$set(e.listQuery,"storeName",t)},expression:"listQuery.storeName"}}),e._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"90px"},attrs:{placeholder:e.$t("table.enableFlag"),clearable:""},on:{change:e.handleFilter},model:{value:e.listQuery.enableFlag,callback:function(t){e.$set(e.listQuery,"enableFlag",t)},expression:"listQuery.enableFlag"}},e._l(e.calendarEnableFlagOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.handleCreate}},[e._v("\n      "+e._s(e.$t("table.add"))+"\n    ")]),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"success",icon:"el-icon-edit"},on:{click:e.handleUpdate}},[e._v("\n      "+e._s(e.$t("table.edit"))+"\n    ")]),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"warning",icon:"el-icon-close"},on:{click:e.handleDelete}},[e._v("\n      "+e._s(e.$t("table.delete"))+"\n    ")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.list,stripe:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"selection",width:"50px",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.storeName"),prop:"storeName","min-width":"150px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.brandId"),prop:"brandId",width:"150px",formatter:e.formatBrand}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.address"),prop:"address",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.managerId"),prop:"managerId",width:"150px",formatter:e.formatUser}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.enableFlag"),prop:"enableFlag",width:"150px",formatter:e.formatEnableFlag}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:e.$t("table.actions"),width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[l.enableFlag==e.$global.enableFlagYes?a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-edit",plain:""},on:{click:function(t){return e.changeEnableFlag(l,e.$global.enableFlagNo)}}},[e._v("\n          禁用\n        ")]):e._e(),e._v(" "),l.enableFlag==e.$global.enableFlagNo?a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-edit",plain:""},on:{click:function(t){return e.changeEnableFlag(l,e.$global.enableFlagYes)}}},[e._v("\n          启用\n        ")]):e._e()]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.pageNum,limit:e.listQuery.pageSize},on:{"update:page":function(t){return e.$set(e.listQuery,"pageNum",t)},"update:limit":function(t){return e.$set(e.listQuery,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible,width:"60%",top:"10px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"30px"},attrs:{size:"small",rules:e.rules,model:e.temp,"label-position":"right","label-width":"80px"}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{prop:"id"}},[a("el-input",{model:{value:e.temp.id,callback:function(t){e.$set(e.temp,"id",t)},expression:"temp.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.storeName"),prop:"storeName"}},[a("el-input",{model:{value:e.temp.storeName,callback:function(t){e.$set(e.temp,"storeName",t)},expression:"temp.storeName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.brandId"),prop:"brandId"}},[a("el-select",{staticClass:"filter-item",attrs:{clearable:"",placeholder:e.$t("table.PleaseSelect")},model:{value:e.temp.brandId,callback:function(t){e.$set(e.temp,"brandId",t)},expression:"temp.brandId"}},e._l(e.calendarBrandOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.brandName,value:e.id}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.managerId"),prop:"managerId"}},[a("el-select",{staticClass:"filter-item",attrs:{clearable:"",placeholder:e.$t("table.PleaseSelect")},model:{value:e.temp.managerId,callback:function(t){e.$set(e.temp,"managerId",t)},expression:"temp.managerId"}},e._l(e.calendarUserOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.realName,value:e.id}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.province"),prop:"province"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:e.$t("table.PleaseSelect")},on:{change:e.clearCity},model:{value:e.temp.province,callback:function(t){e.$set(e.temp,"province",t)},expression:"temp.province"}},e._l(e.calendarProvinceOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.cityName,value:e.id}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.city"),prop:"city"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:e.$t("table.PleaseSelect")},on:{change:e.clearArea},model:{value:e.temp.city,callback:function(t){e.$set(e.temp,"city",t)},expression:"temp.city"}},e._l(e.calendarCityOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.cityName,value:e.id}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.area"),prop:"area"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:e.$t("table.PleaseSelect")},model:{value:e.temp.area,callback:function(t){e.$set(e.temp,"area",t)},expression:"temp.area"}},e._l(e.calendarAreaOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.cityName,value:e.id}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.address"),prop:"address"}},[a("el-input",{model:{value:e.temp.address,callback:function(t){e.$set(e.temp,"address",t)},expression:"temp.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.longitude"),prop:"longitude"}},[a("el-input",{model:{value:e.temp.longitude,callback:function(t){e.$set(e.temp,"longitude",t)},expression:"temp.longitude"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.dimensionality"),prop:"dimensionality"}},[a("el-input",{model:{value:e.temp.dimensionality,callback:function(t){e.$set(e.temp,"dimensionality",t)},expression:"temp.dimensionality"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.enableFlag"),prop:"enableFlag"}},[a("el-select",{staticClass:"filter-item",attrs:{clearable:"",placeholder:e.$t("table.PleaseSelect")},model:{value:e.temp.enableFlag,callback:function(t){e.$set(e.temp,"enableFlag",t)},expression:"temp.enableFlag"}},e._l(e.calendarEnableFlagOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("\n        "+e._s(e.$t("table.cancel"))+"\n      ")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("\n        "+e._s(e.$t("table.confirm"))+"\n      ")])],1)],1)],1)},i=[],n=(a("ac6a"),a("20d6"),a("2d63")),r=a("73f5"),s=a("c24f"),o=a("baf8"),c=a("9add"),d=a("b775");function u(e){return console.log("查询省市区参数："+e),Object(d["a"])({url:"basic/places/"+e,method:"get"})}var p=a("6724"),m=a("333d"),b=(a("61f7"),[]),g=[],f=[],h=[],v=[],y=[],$={name:"ComplexTable",components:{Pagination:m["a"]},directives:{waves:p["a"]},data:function(){return{tableKey:0,list:null,total:0,listLoading:!0,listQuery:{pageNum:1,pageSize:10,storeName:"",enableFlag:""},calendarEnableFlagOptions:b,calendarProvinceOptions:g,calendarCityOptions:f,calendarAreaOptions:h,calendarBrandOptions:v,calendarUserOptions:y,showReviewer:!1,temp:{id:"",brandId:"",storeName:"",area:"",city:"",address:"",managerId:"",longitude:"",dimensionality:"",checkedIds:[],enableFlag:""},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑门店",create:"添加门店"},rules:{brandId:[{required:!0,message:"必填",trigger:"change"}],storeName:[{required:!0,message:"必填",trigger:"blur"}],province:[{required:!0,message:"必填",trigger:"change"}],city:[{required:!0,message:"必填",trigger:"blur"}],area:[{required:!0,message:"必填",trigger:"blur"}],address:[{required:!0,message:"必填",trigger:"blur"}],managerId:[{required:!0,message:"必填",trigger:"change"}],longitude:[{required:!0,message:"必填",trigger:"blur"}],dimensionality:[{required:!0,message:"必填",trigger:"blur"}],enableFlag:[{required:!0,message:"必填",trigger:"change"}]},downloadLoading:!1}},created:function(){this.initUser(),this.initEnableFlag(),this.initBrand(),this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(r["d"])(this.listQuery).then((function(t){e.list=t.datas.records,e.total=t.datas.total,console.log("查询品牌信息返回:"+t.datas),setTimeout((function(){e.listLoading=!1}),1e3)}))},changeEnableFlag:function(e,t){var a=this;this.temp=e,this.temp.enableFlag=t,Object(r["a"])(this.temp).then((function(e){var t=e.datas;t?a.$message({message:"操作成功",type:"success"}):a.$message({message:e.msg,type:"warning"})}))},initProvince:function(e){var t=this;u(e).then((function(e){t.calendarProvinceOptions=e.datas}))},initCity:function(e){var t=this;u(e).then((function(e){t.calendarCityOptions=e.datas}))},clearCity:function(e){var t=this;u(e).then((function(e){t.calendarCityOptions=e.datas,t.temp.city=null,t.temp.area=null}))},initArea:function(e){var t=this;u(e).then((function(e){t.calendarAreaOptions=e.datas}))},clearArea:function(e){var t=this;u(e).then((function(e){t.calendarAreaOptions=e.datas,t.temp.area=null}))},initEnableFlag:function(){var e=this;Object(o["a"])(this.$global.enableFlag).then((function(t){e.calendarEnableFlagOptions=t.datas}))},formatEnableFlag:function(e){var t,a=Object(n["a"])(this.calendarEnableFlagOptions);try{for(a.s();!(t=a.n()).done;){var l=t.value;if(e.enableFlag===l.dataValue)return l.discriptioin}}catch(i){a.e(i)}finally{a.f()}},initBrand:function(){var e=this;Object(c["e"])().then((function(t){e.calendarBrandOptions=t.datas}))},formatBrand:function(e){var t,a=Object(n["a"])(this.calendarBrandOptions);try{for(a.s();!(t=a.n()).done;){var l=t.value;if(e.brandId===l.id)return l.brandName}}catch(i){a.e(i)}finally{a.f()}},initUser:function(){var e=this;Object(s["e"])().then((function(t){e.calendarUserOptions=t.datas}))},formatUser:function(e){var t,a=Object(n["a"])(this.calendarUserOptions);try{for(a.s();!(t=a.n()).done;){var l=t.value;if(e.managerId===l.id)return l.realName}}catch(i){a.e(i)}finally{a.f()}},handleFilter:function(){this.listQuery.pageNum=1,this.getList()},resetTemp:function(){this.temp={id:"",brandId:"",storeName:"",area:"",city:"",address:"",managerId:"",longitude:"",dimensionality:"",checkedIds:[],enableFlag:""}},handleCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate(),e.initProvince(e.$global.defaultCity)}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(r["b"])(e.temp).then((function(t){e.temp=t.datas,e.list.unshift(e.temp),e.dialogFormVisible=!1,e.$message({message:"保存成功",type:"success",duration:1500,offset:300})}))}))},handleUpdate:function(){var e=this;this.resetTemp();var t=this.$refs.multipleTable.selection;0!==t.length?t.length>1?this.$message({message:"只能选择一条记录",type:"warning",duration:1500,offset:300}):(this.temp=Object.assign({},t[0]),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()})),this.initProvince(this.$global.defaultCity),this.initCity(this.temp.province),this.initArea(this.temp.city)):this.$message({message:"请选择要编辑的记录",type:"warning",duration:1500,offset:300})},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(r["f"])(e.temp).then((function(){var t=e.list.findIndex((function(t){return t.id===e.temp.id}));e.list.splice(t,1,e.temp),e.dialogFormVisible=!1,e.$message({message:"修改成功",type:"success",duration:1500,offset:300})}))}))},handleDelete:function(){var e=this,t=this.$refs.multipleTable.selection;0!==t.length?t.length>0&&this.$confirm("此操作将永久删除所选记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a=[];t.forEach((function(e){a.push(e.id)})),e.temp.checkedIds=a,Object(r["c"])(e.temp).then((function(){e.$message({message:"删除成功",type:"success",duration:1500,offset:300}),e.getList()}))})).catch((function(){e.$message({type:"info",message:"已取消删除",duration:1500,offset:300})})):this.$message({message:"请选择您要删除的记录",type:"warning",duration:1500,offset:300})}}},_=$,x=(a("4c1c"),a("2877")),F=Object(x["a"])(_,l,i,!1,null,null,null);t["default"]=F.exports},"91d8":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$t("table.categoryName")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.categoryName,callback:function(t){e.$set(e.listQuery,"categoryName",t)},expression:"listQuery.categoryName"}}),e._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"190px"},attrs:{placeholder:e.$t("table.categoryType"),clearable:""},on:{change:e.handleFilter},model:{value:e.listQuery.categoryType,callback:function(t){e.$set(e.listQuery,"categoryType",t)},expression:"listQuery.categoryType"}},e._l(e.calendarCategoryTypeOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1),e._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"90px"},attrs:{placeholder:e.$t("table.enableFlag"),clearable:""},on:{change:e.handleFilter},model:{value:e.listQuery.enableFlag,callback:function(t){e.$set(e.listQuery,"enableFlag",t)},expression:"listQuery.enableFlag"}},e._l(e.calendarEnableFlagOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.handleCreate}},[e._v("\n      "+e._s(e.$t("table.add"))+"\n    ")]),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"success",icon:"el-icon-edit"},on:{click:e.handleUpdate}},[e._v("\n      "+e._s(e.$t("table.edit"))+"\n    ")]),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"warning",icon:"el-icon-close"},on:{click:e.handleDelete}},[e._v("\n      "+e._s(e.$t("table.delete"))+"\n    ")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.list,stripe:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"selection",width:"50px",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.categoryName"),prop:"categoryName","min-width":"200px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.categoryType"),prop:"categoryType",width:"200px",formatter:e.formatCategoryType}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.sortNo"),prop:"sortNo",width:"95px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.createdTime"),prop:"createdTime","min-width":"120px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.enableFlag"),prop:"enableFlag",width:"200px",formatter:e.formatEnableFlag}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:e.$t("table.actions"),width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[l.enableFlag==e.$global.enableFlagYes?a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-edit",plain:""},on:{click:function(t){return e.changeEnableFlag(l,e.$global.enableFlagNo)}}},[e._v("\n          禁用\n        ")]):e._e(),e._v(" "),l.enableFlag==e.$global.enableFlagNo?a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-edit",plain:""},on:{click:function(t){return e.changeEnableFlag(l,e.$global.enableFlagYes)}}},[e._v("\n          启用\n        ")]):e._e()]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.pageNum,limit:e.listQuery.pageSize},on:{"update:page":function(t){return e.$set(e.listQuery,"pageNum",t)},"update:limit":function(t){return e.$set(e.listQuery,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible,width:"60%",top:"10px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"30px"},attrs:{size:"small",rules:e.rules,model:e.temp,"label-position":"right","label-width":"80px"}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{prop:"id"}},[a("el-input",{model:{value:e.temp.id,callback:function(t){e.$set(e.temp,"id",t)},expression:"temp.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.categoryName"),prop:"categoryName"}},[a("el-input",{model:{value:e.temp.categoryName,callback:function(t){e.$set(e.temp,"categoryName",t)},expression:"temp.categoryName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.categoryType"),prop:"enableFlag"}},[a("el-select",{staticClass:"filter-item",attrs:{clearable:"",placeholder:e.$t("table.PleaseSelect")},model:{value:e.temp.categoryType,callback:function(t){e.$set(e.temp,"categoryType",t)},expression:"temp.categoryType"}},e._l(e.calendarCategoryTypeOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.sortNo"),prop:"sortNo"}},[a("el-input",{model:{value:e.temp.sortNo,callback:function(t){e.$set(e.temp,"sortNo",t)},expression:"temp.sortNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.enableFlag"),prop:"enableFlag"}},[a("el-select",{staticClass:"filter-item",attrs:{clearable:"",placeholder:e.$t("table.PleaseSelect")},model:{value:e.temp.enableFlag,callback:function(t){e.$set(e.temp,"enableFlag",t)},expression:"temp.enableFlag"}},e._l(e.calendarEnableFlagOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("\n        "+e._s(e.$t("table.cancel"))+"\n      ")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("\n        "+e._s(e.$t("table.confirm"))+"\n      ")])],1)],1)],1)},i=[],n=(a("ac6a"),a("20d6"),a("2d63")),r=a("c405"),s=a("baf8"),o=a("6724"),c=a("333d"),d=[],u=[],p={name:"ComplexTable",components:{Pagination:c["a"]},directives:{waves:o["a"]},data:function(){return{tableKey:0,list:null,total:0,listLoading:!0,listQuery:{pageNum:1,pageSize:10,categoryName:"",categoryType:"",enableFlag:""},calendarEnableFlagOptions:d,calendarCategoryTypeOptions:u,showReviewer:!1,temp:{id:"",categoryName:"",categoryType:"",checkedIds:[],enableFlag:""},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑分类",create:"添加分类"},rules:{categoryName:[{required:!0,message:"必填",trigger:"blur"}],categoryType:[{required:!0,message:"必填",trigger:"blur"}],enableFlag:[{required:!0,message:"必填",trigger:"change"}]},downloadLoading:!1}},created:function(){this.initCategoryType(),this.initEnableFlag(),this.getList()},methods:{changeEnableFlag:function(e,t){var a=this;this.temp=e,this.temp.enableFlag=t,Object(r["a"])(this.temp).then((function(e){var t=e.datas;t?a.$message({message:"操作成功",type:"success"}):a.$message({message:e.msg,type:"warning"})}))},initCategoryType:function(){var e=this;Object(s["a"])(this.$global.categoryType).then((function(t){e.calendarCategoryTypeOptions=t.datas}))},formatCategoryType:function(e){var t,a=Object(n["a"])(this.calendarCategoryTypeOptions);try{for(a.s();!(t=a.n()).done;){var l=t.value;if(e.categoryType===l.dataValue)return l.discriptioin}}catch(i){a.e(i)}finally{a.f()}},getList:function(){var e=this;this.listLoading=!0,Object(r["d"])(this.listQuery).then((function(t){e.list=t.datas.records,e.total=t.datas.total,console.log("查询分类信息返回:"+t.datas),setTimeout((function(){e.listLoading=!1}),1e3)}))},initEnableFlag:function(){var e=this;Object(s["a"])(this.$global.enableFlag).then((function(t){e.calendarEnableFlagOptions=t.datas}))},formatEnableFlag:function(e){var t,a=Object(n["a"])(this.calendarEnableFlagOptions);try{for(a.s();!(t=a.n()).done;){var l=t.value;if(e.enableFlag===l.dataValue)return l.discriptioin}}catch(i){a.e(i)}finally{a.f()}},handleFilter:function(){this.listQuery.pageNum=1,this.getList()},resetTemp:function(){this.temp={id:"",categoryName:"",checkedIds:[],enableFlag:""}},handleCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(r["b"])(e.temp).then((function(t){e.temp=t.datas,e.list.unshift(e.temp),e.dialogFormVisible=!1,e.$message({message:"保存成功",type:"success",duration:1500,offset:300})}))}))},handleUpdate:function(){var e=this;this.resetTemp();var t=this.$refs.multipleTable.selection;0!==t.length?t.length>1?this.$message({message:"只能选择一条记录",type:"warning",duration:1500,offset:300}):(this.temp=Object.assign({},t[0]),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))):this.$message({message:"请选择要编辑的记录",type:"warning",duration:1500,offset:300})},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(r["f"])(e.temp).then((function(){var t=e.list.findIndex((function(t){return t.id===e.temp.id}));e.list.splice(t,1,e.temp),e.dialogFormVisible=!1,e.$message({message:"修改成功",type:"success",duration:1500,offset:300})}))}))},handleDelete:function(){var e=this,t=this.$refs.multipleTable.selection;0!==t.length?t.length>0&&this.$confirm("此操作将永久删除所选记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a=[];t.forEach((function(e){a.push(e.id)})),e.temp.checkedIds=a,Object(r["c"])(e.temp).then((function(){e.$message({message:"删除成功",type:"success",duration:1500,offset:300}),e.getList()}))})).catch((function(){e.$message({type:"info",message:"已取消删除",duration:1500,offset:300})})):this.$message({message:"请选择您要删除的记录",type:"warning",duration:1500,offset:300})}}},m=p,b=(a("d4d2"),a("2877")),g=Object(b["a"])(m,l,i,!1,null,null,null);t["default"]=g.exports},"95d5a":function(e,t,a){},9880:function(e,t,a){},"9add":function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return n})),a.d(t,"e",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"f",(function(){return o})),a.d(t,"c",(function(){return c}));var l=a("b775");function i(e){return console.log("查询品牌列表参数："+e),Object(l["a"])({url:"shop/brand/page/"+e.pageNum+"/"+e.pageSize,method:"post",data:e})}function n(e){return console.info("修改data"+e),Object(l["a"])({url:"shop/brand/update-brand-enableFlag",method:"post",data:e})}function r(){return Object(l["a"])({url:"shop/brand/list",method:"get"})}function s(e){return Object(l["a"])({url:"shop/brand",method:"post",data:e})}function o(e){return console.log("修改信息："+e),Object(l["a"])({url:"shop/brand",method:"patch",data:e})}function c(e){return console.log("删除信息："+e),Object(l["a"])({url:"shop/brand",method:"delete",data:e})}},"9ed6":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-container"},[a("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[a("div",{staticClass:"title-container"},[a("h3",{staticClass:"title"},[e._v("系统登录")]),e._v(" "),a("div",{staticClass:"login_header"},[a("a",{class:{active:"usernameLogin"==e.loginForm.loginType},on:{click:function(t){e.loginForm.loginType="usernameLogin"}}},[e._v("密码登录")]),e._v(" "),a("a",{class:{active:"mobilLogin"==e.loginForm.loginType},on:{click:function(t){e.loginForm.loginType="mobilLogin"}}},[e._v("短信登录")])])]),e._v(" "),a("div",{staticClass:"login_content"},["usernameLogin"==e.loginForm.loginType?a("div",{staticClass:"Cbody_item"},[a("el-form-item",{attrs:{prop:"username"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"user"}})],1),e._v(" "),a("el-input",{ref:"mobile",attrs:{placeholder:e.$t("login.username"),name:"username",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"password"}})],1),e._v(" "),a("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:e.$t("login.password"),name:"password",tabindex:"2","auto-complete":"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),e._v(" "),a("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[a("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1)],1):e._e(),e._v(" "),"mobilLogin"==e.loginForm.loginType?a("div",{staticClass:"Cbody_item"},[a("el-form-item",{attrs:{prop:"mobile"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"user"}})],1),e._v(" "),a("el-input",{ref:"mobile",attrs:{placeholder:"请输入手机号",name:"mobile",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.loginForm.mobile,callback:function(t){e.$set(e.loginForm,"mobile",t)},expression:"loginForm.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"authCode"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"password"}})],1),e._v(" "),a("el-input",{ref:"authCode",attrs:{type:"text",placeholder:"请输入验证码",name:"authCode",abindex:"2",maxlength:"6","auto-complete":"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.authCode,callback:function(t){e.$set(e.loginForm,"authCode",t)},expression:"loginForm.authCode"}}),e._v(" "),a("span",{staticClass:"show-pwd"},[a("el-button",{attrs:{loading:e.sending,disabled:e.sendDisabled,size:"small"},on:{click:e.onSendSms}},[e._v(e._s(e.sendButtonText))])],1)],1)],1):e._e()]),e._v(" "),a("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("登录")])],1)],1)},i=[],n=a("c24f"),r=a("61f7"),s=a("a78e"),o=a.n(s),c={name:"Login",data:function(){var e=function(e,t,a){Object(r["f"])(t)?a():a(new Error("请输入正确邮箱格式"))},t=function(e,t,a){t.length<4?a(new Error("密码不可少于4位")):a()},a=function(e,t,a){Object(r["e"])(t)?a():a(new Error("请输入正确手机号码"))};return{loginForm:{username:"",password:"",mobile:"",authCode:"",loginType:"usernameLogin"},loginRules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:t}],mobile:[{required:!0,trigger:"blur",validator:a}],authCode:[{required:!0,message:"请输入验证码",trigger:"blur"}]},cur:!0,sending:!1,sendDisabled:!1,loading:!1,timer:0,passwordType:"password",redirect:void 0}},computed:{sendButtonText:function(){return 0===this.timer?"发送验证码":"".concat(this.timer,"秒后重发")}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0},timer:function(e){var t=this;e>0&&setTimeout((function(){t.timer=--e}),1e3)}},created:function(){var e=o.a.get("last-send-time");if(e){var t=0;this.timer=t>0?t:0}},methods:{onSendSms:function(){var e=this;this.loginWay=!1,this.$refs.loginForm.validateField("mobile",(function(t){if(!t){e.sending=!0;var a=e.loginForm.mobile;o.a.set("last-send-time",new Date),Object(n["j"])({mobile:a}).then((function(){e.$message.success("短信发送成功，请注意查收"),o.a.set("last-send-time",new Date),e.timer=300})).catch((function(t){e.$message.error("网络异常"),console.log(t)})).finally((function(){return e.sending=!1}))}}))},showPwd:function(){var e=this;this.loginWay=!0,"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0,e.$store.dispatch("user/login",e.loginForm).then((function(){e.$router.push({path:e.redirect||"/",query:e.otherQuery}),e.loading=!1})).catch((function(){e.loading=!1}))}))}}},d=c,u=(a("2017"),a("8ec6"),a("2877")),p=Object(u["a"])(d,l,i,!1,null,"36b5071a",null);t["default"]=p.exports},a36b:function(e,t,a){e.exports=a.p+"static/img/404.a57b6f31.png"},a6dd:function(e,t,a){},ac8a:function(e,t,a){},ad8f:function(e,t,a){"use strict";a.d(t,"e",(function(){return i})),a.d(t,"f",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return o})),a.d(t,"g",(function(){return c})),a.d(t,"d",(function(){return d}));var l=a("b775");function i(e){return console.log("查询门店列表参数："+e),Object(l["a"])({url:"shop/table/page/"+e.pageNum+"/"+e.pageSize,method:"post",data:e})}function n(e){return Object(l["a"])({url:"shop/table/list",method:"get"})}function r(e){return console.info("修改data"+e),Object(l["a"])({url:"shop/table/update-table-enableFlag",method:"post",data:e})}function s(e){return console.info("修改data"+e),Object(l["a"])({url:"shop/table/update-table-tableStatus",method:"post",data:e})}function o(e){return Object(l["a"])({url:"shop/table",method:"post",data:e})}function c(e){return console.log("修改信息："+e),Object(l["a"])({url:"shop/table",method:"patch",data:e})}function d(e){return console.log("删除信息："+e),Object(l["a"])({url:"shop/table",method:"delete",data:e})}},af89:function(e,t,a){"use strict";var l=a("9880"),i=a.n(l);i.a},b12d:function(e,t,a){},b1a6:function(e,t,a){},b829:function(e,t,a){"use strict";a.r(t);a("386d");var l,i,n={name:"AuthRedirect",created:function(){var e=window.location.search.slice(1);window.localStorage&&(window.localStorage.setItem("x-admin-oauth-code",e),window.close())},render:function(e){return e()}},r=n,s=a("2877"),o=Object(s["a"])(r,l,i,!1,null,null,null);t["default"]=o.exports},baf8:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var l=a("b775");function i(e){return console.log("查询数据字典信息："+e),Object(l["a"])({url:"/basic/data-dict/parent-key/"+e,method:"get"})}},c405:function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"f",(function(){return s})),a.d(t,"e",(function(){return o})),a.d(t,"c",(function(){return c}));var l=a("b775");function i(e){return console.log("查询分类列表参数："+e),Object(l["a"])({url:"shop/category/page/"+e.pageNum+"/"+e.pageSize,method:"post",data:e})}function n(e){return console.info("修改data"+e),Object(l["a"])({url:"shop/category/update-category-enableFlag",method:"post",data:e})}function r(e){return Object(l["a"])({url:"shop/category",method:"post",data:e})}function s(e){return console.log("修改信息："+e),Object(l["a"])({url:"shop/category",method:"patch",data:e})}function o(e){return Object(l["a"])({url:"shop/category/list",method:"get"})}function c(e){return console.log("删除信息："+e),Object(l["a"])({url:"shop/category",method:"delete",data:e})}},c62e:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"social-signup-container"},[a("div",{staticClass:"sign-btn",on:{click:function(t){return e.wechatHandleClick("wechat")}}},[a("span",{staticClass:"wx-svg-container"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"wechat"}})],1),e._v("\n    WeChat\n  ")]),e._v(" "),a("div",{staticClass:"sign-btn",on:{click:function(t){return e.tencentHandleClick("tencent")}}},[a("span",{staticClass:"qq-svg-container"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"qq"}})],1),e._v("\n    QQ\n  ")])])},i=[],n={name:"SocialSignin",methods:{wechatHandleClick:function(e){alert("ok")},tencentHandleClick:function(e){alert("ok")}}},r=n,s=(a("edc1"),a("2877")),o=Object(s["a"])(r,l,i,!1,null,"c817cede",null);t["default"]=o.exports},d02d:function(e,t,a){},d2a8:function(e,t,a){"use strict";var l=a("b1a6"),i=a.n(l);i.a},d4d2:function(e,t,a){"use strict";var l=a("53b1"),i=a.n(l);i.a},e7725:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$t("table.areaName")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.areaName,callback:function(t){e.$set(e.listQuery,"areaName",t)},expression:"listQuery.areaName"}}),e._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"90px"},attrs:{placeholder:e.$t("table.enableFlag"),clearable:""},on:{change:e.handleFilter},model:{value:e.listQuery.enableFlag,callback:function(t){e.$set(e.listQuery,"enableFlag",t)},expression:"listQuery.enableFlag"}},e._l(e.calendarEnableFlagOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.handleCreate}},[e._v("\n      "+e._s(e.$t("table.add"))+"\n    ")]),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"success",icon:"el-icon-edit"},on:{click:e.handleUpdate}},[e._v("\n      "+e._s(e.$t("table.edit"))+"\n    ")]),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"warning",icon:"el-icon-close"},on:{click:e.handleDelete}},[e._v("\n      "+e._s(e.$t("table.delete"))+"\n    ")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.list,stripe:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"selection",width:"50px",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.areaName"),prop:"areaName","min-width":"200px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.sortNo"),prop:"sortNo",width:"200px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.createdTime"),prop:"createdTime","min-width":"120px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.enableFlag"),prop:"enableFlag",width:"200px",formatter:e.formatEnableFlag}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:e.$t("table.actions"),width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[l.enableFlag==e.$global.enableFlagYes?a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-edit",plain:""},on:{click:function(t){return e.changeEnableFlag(l,e.$global.enableFlagNo)}}},[e._v("\n          禁用\n        ")]):e._e(),e._v(" "),l.enableFlag==e.$global.enableFlagNo?a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-edit",plain:""},on:{click:function(t){return e.changeEnableFlag(l,e.$global.enableFlagYes)}}},[e._v("\n          启用\n        ")]):e._e()]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.pageNum,limit:e.listQuery.pageSize},on:{"update:page":function(t){return e.$set(e.listQuery,"pageNum",t)},"update:limit":function(t){return e.$set(e.listQuery,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible,width:"60%",top:"10px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"30px"},attrs:{size:"small",rules:e.rules,model:e.temp,"label-position":"right","label-width":"80px"}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{prop:"id"}},[a("el-input",{model:{value:e.temp.id,callback:function(t){e.$set(e.temp,"id",t)},expression:"temp.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.areaName"),prop:"areaName"}},[a("el-input",{model:{value:e.temp.areaName,callback:function(t){e.$set(e.temp,"areaName",t)},expression:"temp.areaName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.sortNo"),prop:"sortNo"}},[a("el-input",{model:{value:e.temp.sortNo,callback:function(t){e.$set(e.temp,"sortNo",t)},expression:"temp.sortNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.enableFlag"),prop:"enableFlag"}},[a("el-select",{staticClass:"filter-item",attrs:{clearable:"",placeholder:e.$t("table.PleaseSelect")},model:{value:e.temp.enableFlag,callback:function(t){e.$set(e.temp,"enableFlag",t)},expression:"temp.enableFlag"}},e._l(e.calendarEnableFlagOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("\n        "+e._s(e.$t("table.cancel"))+"\n      ")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("\n        "+e._s(e.$t("table.confirm"))+"\n      ")])],1)],1)],1)},i=[],n=(a("ac6a"),a("20d6"),a("2d63")),r=a("599c"),s=a("baf8"),o=a("6724"),c=a("333d"),d=[],u={name:"ComplexTable",components:{Pagination:c["a"]},directives:{waves:o["a"]},data:function(){return{tableKey:0,list:null,total:0,listLoading:!0,listQuery:{pageNum:1,pageSize:10,areaName:"",enableFlag:""},calendarEnableFlagOptions:d,showReviewer:!1,temp:{id:"",areaName:"",checkedIds:[],enableFlag:""},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑区域",create:"添加区域"},rules:{areaName:[{required:!0,message:"必填",trigger:"blur"}],sortNo:[{required:!0,message:"必填",trigger:"blur"}],enableFlag:[{required:!0,message:"必填",trigger:"change"}]},downloadLoading:!1}},created:function(){this.initEnableFlag(),this.getList()},methods:{changeEnableFlag:function(e,t){var a=this;this.temp=e,this.temp.enableFlag=t,Object(r["a"])(this.temp).then((function(e){var t=e.datas;t?a.$message({message:"操作成功",type:"success"}):a.$message({message:e.msg,type:"warning"})}))},getList:function(){var e=this;this.listLoading=!0,Object(r["d"])(this.listQuery).then((function(t){e.list=t.datas.records,e.total=t.datas.total,console.log("查询区域信息返回:"+t.datas),setTimeout((function(){e.listLoading=!1}),1e3)}))},initEnableFlag:function(){var e=this;Object(s["a"])(this.$global.enableFlag).then((function(t){e.calendarEnableFlagOptions=t.datas}))},formatEnableFlag:function(e){var t,a=Object(n["a"])(this.calendarEnableFlagOptions);try{for(a.s();!(t=a.n()).done;){var l=t.value;if(e.enableFlag===l.dataValue)return l.discriptioin}}catch(i){a.e(i)}finally{a.f()}},handleFilter:function(){this.listQuery.pageNum=1,this.getList()},resetTemp:function(){this.temp={id:"",areaName:"",checkedIds:[],enableFlag:""}},handleCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(r["b"])(e.temp).then((function(t){e.temp=t.datas,e.list.unshift(e.temp),e.dialogFormVisible=!1,e.$message({message:"保存成功",type:"success",duration:1500,offset:300})}))}))},handleUpdate:function(){var e=this;this.resetTemp();var t=this.$refs.multipleTable.selection;0!==t.length?t.length>1?this.$message({message:"只能选择一条记录",type:"warning",duration:1500,offset:300}):(this.temp=Object.assign({},t[0]),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))):this.$message({message:"请选择要编辑的记录",type:"warning",duration:1500,offset:300})},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(r["f"])(e.temp).then((function(){var t=e.list.findIndex((function(t){return t.id===e.temp.id}));e.list.splice(t,1,e.temp),e.dialogFormVisible=!1,e.$message({message:"修改成功",type:"success",duration:1500,offset:300})}))}))},handleDelete:function(){var e=this,t=this.$refs.multipleTable.selection;0!==t.length?t.length>0&&this.$confirm("此操作将永久删除所选记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a=[];t.forEach((function(e){a.push(e.id)})),e.temp.checkedIds=a,Object(r["c"])(e.temp).then((function(){e.$message({message:"删除成功",type:"success",duration:1500,offset:300}),e.getList()}))})).catch((function(){e.$message({type:"info",message:"已取消删除",duration:1500,offset:300})})):this.$message({message:"请选择您要删除的记录",type:"warning",duration:1500,offset:300})}}},p=u,m=(a("d2a8"),a("2877")),b=Object(m["a"])(p,l,i,!1,null,null,null);t["default"]=b.exports},e92e:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$t("table.username")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.username,callback:function(t){e.$set(e.listQuery,"username",t)},expression:"listQuery.username"}}),e._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$t("table.mobil")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.mobil,callback:function(t){e.$set(e.listQuery,"mobil",t)},expression:"listQuery.mobil"}}),e._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"90px"},attrs:{placeholder:e.$t("table.enableFlag"),clearable:""},on:{change:e.handleFilter},model:{value:e.listQuery.enableFlag,callback:function(t){e.$set(e.listQuery,"enableFlag",t)},expression:"listQuery.enableFlag"}},e._l(e.calendarEnableFlagOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.handleCreate}},[e._v("\n      "+e._s(e.$t("table.add"))+"\n    ")]),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"success",icon:"el-icon-edit"},on:{click:e.handleUpdate}},[e._v("\n      "+e._s(e.$t("table.edit"))+"\n    ")]),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"warning",icon:"el-icon-close"},on:{click:e.handleDelete}},[e._v("\n      "+e._s(e.$t("table.delete"))+"\n    ")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.list,stripe:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"selection",width:"50px",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.storeId"),prop:"storeId",width:"150px",formatter:e.formatStore}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.username"),prop:"username","min-width":"110px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.realName"),prop:"realName",width:"90px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.sex"),prop:"sex",width:"50px",formatter:e.formatSex}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.mobil"),prop:"mobil",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.discountLimit"),prop:"discountLimit",width:"65px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.reduceLimit"),prop:"reduceLimit",width:"65px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.email"),prop:"email",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.enableFlag"),prop:"enableFlag",width:"60",formatter:e.formatEnableFlag}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:e.$t("table.actions"),width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[l.enableFlag==e.$global.enableFlagYes?a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-edit",plain:""},on:{click:function(t){return e.changeEnableFlag(l,e.$global.enableFlagNo)}}},[e._v("\n          禁用\n        ")]):e._e(),e._v(" "),l.enableFlag==e.$global.enableFlagNo?a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-edit",plain:""},on:{click:function(t){return e.changeEnableFlag(l,e.$global.enableFlagYes)}}},[e._v("\n          启用\n        ")]):e._e(),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-edit",plain:""},on:{click:function(t){return e.restPassword(l)}}},[e._v("\n          密码重置\n        ")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.pageNum,limit:e.listQuery.pageSize},on:{"update:page":function(t){return e.$set(e.listQuery,"pageNum",t)},"update:limit":function(t){return e.$set(e.listQuery,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible,width:"60%",top:"10px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"30px"},attrs:{rules:e.rules,size:"small",model:e.temp,"label-position":"right","label-width":"80px"}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{prop:"id"}},[a("el-input",{model:{value:e.temp.id,callback:function(t){e.$set(e.temp,"id",t)},expression:"temp.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.username"),prop:"username"}},[a("el-input",{model:{value:e.temp.username,callback:function(t){e.$set(e.temp,"username",t)},expression:"temp.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.headPortrait"),prop:"headPortrait"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{name:"file",action:e.uploadAction(),headers:e.myHeaders,data:e.affixData(),"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.temp.affixVo.pathUrl?a("img",{staticClass:"avatar-hearder",attrs:{src:e.temp.affixVo.pathUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon-hearder"})])],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.realName"),prop:"realName"}},[a("el-input",{model:{value:e.temp.realName,callback:function(t){e.$set(e.temp,"realName",t)},expression:"temp.realName"}})],1),e._v(" "),"create"===e.dialogStatus?a("el-form-item",{attrs:{label:e.$t("table.plainPassword"),prop:"plainPassword"}},[a("el-input",{model:{value:e.temp.plainPassword,callback:function(t){e.$set(e.temp,"plainPassword",t)},expression:"temp.plainPassword"}})],1):e._e(),e._v(" "),"create"===e.dialogStatus?a("el-form-item",{attrs:{label:e.$t("table.password"),prop:"againPlainPassword"}},[a("el-input",{model:{value:e.temp.password,callback:function(t){e.$set(e.temp,"password",t)},expression:"temp.password"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.storeId"),prop:"storeId"}},[a("el-select",{staticClass:"filter-item",attrs:{clearable:"",placeholder:e.$t("table.PleaseSelect")},model:{value:e.temp.storeId,callback:function(t){e.$set(e.temp,"storeId",t)},expression:"temp.storeId"}},e._l(e.calendarStoreOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.storeName,value:e.id}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.sex"),prop:"sex"}},[a("el-select",{staticClass:"filter-item",attrs:{clearable:"",placeholder:e.$t("table.PleaseSelect")},model:{value:e.temp.sex,callback:function(t){e.$set(e.temp,"sex",t)},expression:"temp.sex"}},e._l(e.calendarSexOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.hasRoleIds"),prop:"hasRoleIds"}},[a("el-select",{staticClass:"filter-item",attrs:{clearable:"",multiple:"",placeholder:e.$t("table.PleaseSelect")},model:{value:e.temp.hasRoleIds,callback:function(t){e.$set(e.temp,"hasRoleIds",t)},expression:"temp.hasRoleIds"}},e._l(e.calendarMerchantRoleOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.discountLimit"),prop:"discountLimit"}},[a("el-input",{model:{value:e.temp.discountLimit,callback:function(t){e.$set(e.temp,"discountLimit",t)},expression:"temp.discountLimit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.reduceLimit"),prop:"reduceLimit"}},[a("el-input",{model:{value:e.temp.reduceLimit,callback:function(t){e.$set(e.temp,"reduceLimit",t)},expression:"temp.reduceLimit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.mobil"),prop:"mobil"}},[a("el-input",{model:{value:e.temp.mobil,callback:function(t){e.$set(e.temp,"mobil",t)},expression:"temp.mobil"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.email"),prop:"email"}},[a("el-input",{model:{value:e.temp.email,callback:function(t){e.$set(e.temp,"email",t)},expression:"temp.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.sortNo"),prop:"sortNo"}},[a("el-input",{model:{value:e.temp.sortNo,callback:function(t){e.$set(e.temp,"sortNo",t)},expression:"temp.sortNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.enableFlag"),prop:"enableFlag"}},[a("el-select",{staticClass:"filter-item",attrs:{clearable:"",placeholder:e.$t("table.PleaseSelect")},model:{value:e.temp.enableFlag,callback:function(t){e.$set(e.temp,"enableFlag",t)},expression:"temp.enableFlag"}},e._l(e.calendarEnableFlagOptions,(function(e){return a("el-option",{key:e.dataValue,attrs:{label:e.discriptioin,value:e.dataValue}})})),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("\n        "+e._s(e.$t("table.cancel"))+"\n      ")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("\n        "+e._s(e.$t("table.confirm"))+"\n      ")])],1)],1)],1)},i=[],n=(a("ac6a"),a("20d6"),a("2d63")),r=a("c24f"),s=a("baf8"),o=a("5f87"),c=a("6724"),d=a("333d"),u=a("61f7"),p=a("73f5"),m=[],b=[],g=[],f=[],h={name:"ComplexTable",components:{Pagination:d["a"]},directives:{waves:c["a"]},data:function(){var e=this,t=function(e,t,a){Object(u["f"])(t)?a():a(new Error("请输入正确邮箱格式"))},a=function(e,t,a){Object(u["d"])(t)?a():a(new Error("请输入正确邮箱格式"))},l=function(t,a,l){""===a?l(new Error("请输入密码")):(""!==e.temp.plainPassword&&e.$refs.dataForm.validateField("password"),l())},i=function(t,a,l){""===a?l(new Error("请再次输入密码")):a!==e.temp.plainPassword?l(new Error("两次输入密码不一致!")):l()};return{myHeaders:{jwtToken:Object(o["a"])()},tableKey:0,list:null,total:0,listLoading:!0,listQuery:{pageNum:1,pageSize:10,username:"",mobil:"",enableFlag:""},calendarEnableFlagOptions:m,calendarSexOptions:b,calendarMerchantRoleOptions:g,calendarStoreOptions:f,showReviewer:!1,temp:{id:"",username:"",realName:"",sex:"",mobil:"",email:"",duties:"",hasRoleIds:[],checkedIds:[],sortNo:"",enableFlag:"",plainPassword:"",discountLimit:"",reduceLimit:"",password:"",affixVo:{id:"",businessId:"",pathUrl:""}},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑用户",create:"添加用户"},rules:{username:[{required:!0,trigger:"blur",validator:t}],sex:[{required:!0,message:"必填",trigger:"change"}],realName:[{required:!0,message:"必填",trigger:"change"}],mobil:[{required:!0,message:"必填",trigger:"blur"}],email:[{required:!0,trigger:"blur",validator:a}],storeId:[{required:!0,message:"必填",trigger:"blur"}],sortNo:[{required:!0,message:"必填",trigger:"blur"}],discountLimit:[{required:!0,message:"必填",trigger:"blur"}],reduceLimit:[{required:!0,message:"必填",trigger:"blur"}],enableFlag:[{required:!0,message:"必填",trigger:"change"}],hasRoleIds:[{required:!0,trigger:"change",message:"请选择角色"}],plainPassword:[{required:!0,trigger:"blur",validator:l}],password:[{required:!0,trigger:"blur",validator:i}]},downloadLoading:!1}},created:function(){this.initEnableFlag(),this.initSexFlag(),this.initStore(),this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(r["d"])(this.listQuery).then((function(t){e.list=t.datas.records,e.total=t.datas.total,console.log("查询用户信息返回:"+t.datas),setTimeout((function(){e.listLoading=!1}),1e3)}))},restPassword:function(e){var t=this;this.temp=e,Object(r["i"])(this.temp).then((function(e){var a=e.datas;a?t.$message({message:"重置密码成功",type:"success"}):t.$message({message:e.msg,type:"warning"})}))},changeEnableFlag:function(e,t){var a=this;this.temp=e,this.temp.enableFlag=t,Object(r["a"])(this.temp).then((function(e){var t=e.datas;t?a.$message({message:"操作成功",type:"success"}):a.$message({message:e.msg,type:"warning"})}))},initMerchantRoleOptions:function(){var e=this;Object(s["a"])(this.$global.merchantRole).then((function(t){e.calendarMerchantRoleOptions=t.datas}))},initEnableFlag:function(){var e=this;Object(s["a"])(this.$global.enableFlag).then((function(t){e.calendarEnableFlagOptions=t.datas}))},formatEnableFlag:function(e){var t,a=Object(n["a"])(this.calendarEnableFlagOptions);try{for(a.s();!(t=a.n()).done;){var l=t.value;if(e.enableFlag===l.dataValue)return l.discriptioin}}catch(i){a.e(i)}finally{a.f()}},initStore:function(){var e=this;Object(p["e"])().then((function(t){e.calendarStoreOptions=t.datas}))},formatStore:function(e){var t,a=Object(n["a"])(this.calendarStoreOptions);try{for(a.s();!(t=a.n()).done;){var l=t.value;if(e.storeId===l.id)return l.storeName}}catch(i){a.e(i)}finally{a.f()}},initSexFlag:function(){var e=this;Object(s["a"])(this.$global.sex).then((function(t){e.calendarSexOptions=t.datas}))},formatSex:function(e){var t,a=Object(n["a"])(this.calendarSexOptions);try{for(a.s();!(t=a.n()).done;){var l=t.value;if(e.sex===l.dataValue)return l.discriptioin}}catch(i){a.e(i)}finally{a.f()}},handleFilter:function(){this.listQuery.pageNum=1,this.getList()},resetTemp:function(){this.temp={id:"",username:"",realName:"",sex:"",mobil:"",email:"",duties:"",hasRoleIds:[],checkedIds:[],sortNo:"",enableFlag:"",plainPassword:"",password:"",storeId:"",affixVo:{id:"",businessId:"",pathUrl:"undefined"}}},affixData:function(){return{businessType:this.$global.headPortrait}},uploadAction:function(){return this.$global.uploadAction},handleAvatarSuccess:function(e,t){this.temp.affixVo.pathUrl=e.datas.pathUrl,this.temp.affixVo.id=e.datas.id,console.log("返回图片路径："+this.temp.affixVo.pathUrl),console.log("返回图片Id："+this.temp.affixVo.id)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a=e.size/1024/1024<3;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 5MB!"),t&&a},handleCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate(),e.initMerchantRoleOptions(),e.temp.affixVo.pathUrl=null}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(r["b"])(e.temp).then((function(t){e.temp=t.datas,e.list.unshift(e.temp),e.dialogFormVisible=!1,e.$message({message:"保存成功",type:"success",duration:1500,offset:300})}))}))},handleUpdate:function(){var e=this;this.resetTemp();var t=this.$refs.multipleTable.selection;0!==t.length?t.length>1?this.$message({message:"只能选择一条记录",type:"warning",duration:1500,offset:300}):(this.temp=Object.assign({},t[0]),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){e.initMerchantRoleOptions(),e.$refs["dataForm"].clearValidate()}))):this.$message({message:"请选择要编辑的记录",type:"warning",duration:1500,offset:300})},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(r["k"])(e.temp).then((function(){var t=e.list.findIndex((function(t){return t.id===e.temp.id}));e.list.splice(t,1,e.temp),e.dialogFormVisible=!1,e.$message({message:"修改成功",type:"success",duration:1500,offset:300})}))}))},handleDelete:function(){var e=this,t=this.$refs.multipleTable.selection;0!==t.length?t.length>0&&this.$confirm("此操作将永久删除所选记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a=[];t.forEach((function(e){a.push(e.id)})),e.temp.checkedIds=a,Object(r["c"])(e.temp).then((function(){e.$message({message:"删除成功",type:"success",duration:1500,offset:300}),e.getList()}))})).catch((function(){e.$message({type:"info",message:"已取消删除",duration:1500,offset:300})})):this.$message({message:"请选择您要删除的记录",type:"warning",duration:1500,offset:300})}}},v=h,y=(a("709c"),a("2877")),$=Object(y["a"])(v,l,i,!1,null,null,null);t["default"]=$.exports},ed46:function(e,t,a){},edc1:function(e,t,a){"use strict";var l=a("95d5a"),i=a.n(l);i.a},ef3c:function(e,t,a){"use strict";a.r(t);a("a481");var l,i,n={created:function(){var e=this.$route,t=e.params,a=e.query,l=t.path;this.$router.replace({path:"/"+l,query:a})},render:function(e){return e()}},r=n,s=a("2877"),o=Object(s["a"])(r,l,i,!1,null,null,null);t["default"]=o.exports},f6b0:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"e",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"f",(function(){return o})),a.d(t,"c",(function(){return c}));var l=a("b775");function i(e){return console.info("修改data"+e),Object(l["a"])({url:"shop/customer/update-customer-enableFlag",method:"post",data:e})}function n(){return Object(l["a"])({url:"shop/customer/select-list",method:"get"})}function r(e){return console.log("查询用户列表参数："+e),Object(l["a"])({url:"/shop/customer/page/"+e.pageNum+"/"+e.pageSize,method:"post",data:e})}function s(e){return Object(l["a"])({url:"/shop/customer",method:"post",data:e})}function o(e){return console.log("修改信息："+e),Object(l["a"])({url:"/shop/customer",method:"patch",data:e})}function c(e){return console.log("删除信息："+e),Object(l["a"])({url:"/shop/customer",method:"delete",data:e})}}}]);